(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"19":function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(99),i=a(106),o=a(107),r=a(108),l=a(2),c=a(97),u=a(98);console.log("env:","cst");var p="https://st1-nesweb.fscmu.com/nes-web-paper_plane",h={"getSubtaskList":p+"/wechat/quickSync/getSubtaskList","submitTaskSplit":p+"/wechat/quickSync/submitTaskSplit"},k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){return function step(n,s){try{var i=t[n](s),o=i.value}catch(e){return void a(e)}if(!i.done)return Promise.resolve(o).then(function(e){step("next",e)},function(e){step("throw",e)});e(o)}("next")})}}var f,m,d=(f=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var e,t,a;return regeneratorRuntime.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(c.a)();case 3:return e=n.sent,n.next=6,Object(u.a)({"url":h.smallAuth,"method":"POST","header":{"channel":"WECHAT","appId":"wx1b4d78bd4ae2e05c","content-type":"application/x-www-form-urlencoded"},"data":{"code":e.code}});case 6:if(200!==(t=n.sent).data.code){n.next=14;break}return a="ST-NESSESSIONID="+t.data.datas.sessionId,n.next=11,Object(s.d)({"key":"cookie","data":a});case 11:return n.abrupt("return",Promise.resolve());case 14:400===t.data.code?Object(r.b)({"title":"温馨提示","content":t.data.datas.errMsg,"showCancel":!1,"confirmText":"我知道了"}):Object(r.b)({"title":"温馨提示","content":"系统繁忙，请稍后再试","showCancel":!1,"confirmText":"我知道了"});case 15:return n.abrupt("return",Promise.reject(new Error));case 18:return n.prev=18,n.t0=n.catch(0),n.abrupt("return",Promise.reject(n.t0));case 21:case"end":return n.stop()}},_callee,void 0,[[0,18]])})),function auth(){return f.apply(this,arguments)}),g=0,b=(m=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(e){var t,a,n,i,o,l,c;return regeneratorRuntime.wrap(function _callee2$(p){for(;;)switch(p.prev=p.next){case 0:return t="",p.prev=1,p.next=4,Object(s.a)({"key":"cookie"});case 4:a=p.sent,t=a.data||"",p.next=11;break;case 8:p.prev=8,p.t0=p.catch(1),t="";case 11:return console.log(e),e.header=k({},e.header,{"cookie":t,"content-type":"application/x-www-form-urlencoded"}),n=e.autoLoading,i=void 0!==n&&n,o=e.autoToast,l=void 0===o||o,i&&(0===g&&Object(r.c)({"title":"加载中...","mask":!0,"icon":"loading","duration":15e3}),g+=1),c=function showError(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l&&Object(r.b)({"title":"温馨提示","content":e.datas.errMsg||"系统繁忙，请稍后再试","showCancel":!1,"confirmText":"我知道了"})},p.abrupt("return",Object(u.a)(e).then(function(e){i&&(g-=1,setTimeout(function(){g<=0&&Object(r.a)()},800));var t=e.statusCode;return 401===t?d().then(function(){return Promise.reject(t)},Promise.reject):200===t?200===parseInt(e.data.code,10)?Promise.resolve(e.data.datas):(c(e.data),Promise.resolve(e.data.datas)):(c(e.data),Promise.reject(e.data||e))},function(e){Object(r.a)(),c(e)}));case 17:case"end":return p.stop()}},_callee2,void 0,[[1,8]])})),function fetch(e){return m.apply(this,arguments)}),v=function(e){return b(e).then(function(e){return e},function(t){return 401===t?b(e):Promise.reject})},A=a(100),S=a(103),T=a(102),w=a(104),y=(a(44),[{"subtaskId":"0","subtaskTitle":"","subtaskDesc":"","expireTime":"","showDefault":!0,"onFocus":!1,"executorInfo":[],"taskSplitList":[]},{"subtaskId":"1","subtaskTitle":"","subtaskDesc":"","expireTime":"","showDefault":!0,"onFocus":!1,"executorInfo":[],"taskSplitList":[{"subtaskId":"2","subtaskTitle":"","subtaskDesc":"","expireTime":"","showDefault":!0,"onFocus":!1,"executorInfo":[],"taskSplitList":[]}]}]),E=a(101),C=(a(31),function(){function defineProperties(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,a){return t&&defineProperties(e.prototype,t),a&&defineProperties(e,a),e}}());var I=function(e){function TaskListB(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TaskListB);for(var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(TaskListB.__proto__||Object.getPrototypeOf(TaskListB)).call(this,e)),a=[],n=0;n<e.list.length;n++)a.push(!0);return t.state={"leftDist":11,"showSubTask":a},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(TaskListB,l["a"].Component),C(TaskListB,[{"key":"componentWillUpdate","value":function componentWillUpdate(e){var t=this.state.showSubTask,a=e.list.length-t.length;if(a>0){for(;a--;)t.push(!0);this.setState({"showSubTask":t})}}},{"key":"changeShowSubTask","value":function changeShowSubTask(e){var t=this.state.showSubTask;t[e]=!t[e],this.setState({"showSubTask":t})}},{"key":"render","value":function render(){var e=this,t=this.props,a=t.list,s=t.level,i=t.taskSplitActived,o=this.state,r=o.leftDist,l=o.showSubTask,c=["点击开始拆分任务","换行拆分同级任务","缩进拆分下级任务"];return n.i.createElement(A.a,null,a.map(function(t,a){return n.i.createElement(A.a,{"className":"task-item","style":"margin-left: "+(s?r:0)+"px","key":t.subtaskId},n.i.createElement(A.a,{"className":"\n                                        item-icon \n                                        "+(s>0?"item-icon--child":null)+"\n                                        "+(t.taskSplitList.length>0?"item-icon--haveChildren":null)+"\n                                        "+(t.onFocus?"item-icon--selected":null)+"\n                                        "+(t.showDefault&&0===t.subtaskTitle.length?"item-icon--default":null)+"\n                                    "}),n.i.createElement(A.a,{"className":"item-content"},n.i.createElement(A.a,{"className":"item-main"},n.i.createElement(E.a,{"className":"item-title","placeholder":c[Number(t.subtaskId)],"placeholderClass":"item-title--default","type":"text","value":t.subtaskTitle,"disabled":t.showDefault,"focus":t.onFocus,"onConfirm":e.props.handle.bind(e,"addSibling",t.subtaskId),"onFocus":e.props.focusCallback.bind(e,t.subtaskId),"onInput":e.props.handle.bind(e,"setTitle"),"onBlur":e.props.BlurCallback.bind(e,t.subtaskId),"onClick":!t.showDefault&&i?function(e){e.stopPropagation()}:function(){},"maxLength":20}),t.taskSplitList.length>0&&!t.showDefault&&n.i.createElement(T.a,{"className":"item-change","src":l[a]?"https://nanniwan01.oss-cn-shenzhen.aliyuncs.com/kuaitongbu/%E9%9A%90%E8%97%8F%E4%BB%BB%E5%8A%A1icon%402x.png":"https://nanniwan01.oss-cn-shenzhen.aliyuncs.com/kuaitongbu/%E5%B1%95%E5%BC%80%E4%BB%BB%E5%8A%A1icon%402x.png","onClick":e.changeShowSubTask.bind(e,a)})),(t.showDesc||t.subtaskDesc.length>0)&&n.i.createElement(S.a,{"id":"item-desc-"+t.subtaskId,"className":"item-desc"},t.subtaskDesc),t.expireTime&&n.i.createElement(S.a,{"className":"item-expireTime"},t.expireTimeStr),t.executorInfo&&t.executorInfo.length>0&&n.i.createElement(S.a,{"className":"item-executorInfo"},t.executorInfoStr),l[a]&&t.taskSplitList.length>0&&n.i.createElement(x,{"list":t.taskSplitList,"level":s+1,"handle":e.props.handle,"focusCallback":e.props.focusCallback,"BlurCallback":e.props.BlurCallback,"taskSplitActived":e.props.taskSplitActived})))}))}}]),TaskListB}();I.defaultProps={"list":[]};var B=function(){function defineProperties(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,a){return t&&defineProperties(e.prototype,t),a&&defineProperties(e,a),e}}();var x=function(e){function TaskListA(e){!function TaskSplitA_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TaskListA);for(var t=function TaskSplitA_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(TaskListA.__proto__||Object.getPrototypeOf(TaskListA)).call(this,e)),a=[],n=0;n<e.list.length;n++)a.push(!0);return t.state={"leftDist":11,"showSubTask":a},t}return function TaskSplitA_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(TaskListA,l["a"].Component),B(TaskListA,[{"key":"componentWillUpdate","value":function componentWillUpdate(e){var t=this.state.showSubTask,a=e.list.length-t.length;if(a>0){for(;a--;)t.push(!0);this.setState({"showSubTask":t})}}},{"key":"changeShowSubTask","value":function changeShowSubTask(e){var t=this.state.showSubTask;t[e]=!t[e],this.setState({"showSubTask":t})}},{"key":"render","value":function render(){var e=this,t=this.props,a=t.list,s=t.level,i=t.taskSplitActived,o=this.state,r=o.leftDist,l=o.showSubTask,c=["点击开始拆分任务","换行拆分同级任务","缩进拆分下级任务"];return n.i.createElement(A.a,null,a.map(function(t,a){return n.i.createElement(A.a,{"className":"task-item","style":"margin-left: "+(s?r:0)+"px","key":t.subtaskId},n.i.createElement(A.a,{"className":"\n                                        item-icon \n                                        "+(s>0?"item-icon--child":null)+"\n                                        "+(t.taskSplitList.length>0?"item-icon--haveChildren":null)+"\n                                        "+(t.onFocus?"item-icon--selected":null)+"\n                                        "+(t.showDefault&&0===t.subtaskTitle.length?"item-icon--default":null)+"\n                                    "}),n.i.createElement(A.a,{"className":"item-content"},n.i.createElement(A.a,{"className":"item-main"},n.i.createElement(E.a,{"className":"item-title","placeholder":c[Number(t.subtaskId)],"placeholderClass":"item-title--default","type":"text","value":t.subtaskTitle,"disabled":t.showDefault,"focus":t.onFocus,"onConfirm":e.props.handle.bind(e,"addSibling"),"onFocus":e.props.focusCallback.bind(e,t.subtaskId),"onInput":e.props.handle.bind(e,"setTitle"),"onBlur":e.props.BlurCallback.bind(e,t.subtaskId),"onClick":!t.showDefault&&i?function(e){e.stopPropagation()}:function(){},"maxLength":20}),t.taskSplitList.length>0&&!t.showDefault&&n.i.createElement(T.a,{"className":"item-change","src":l[a]?"https://nanniwan01.oss-cn-shenzhen.aliyuncs.com/kuaitongbu/%E9%9A%90%E8%97%8F%E4%BB%BB%E5%8A%A1icon%402x.png":"https://nanniwan01.oss-cn-shenzhen.aliyuncs.com/kuaitongbu/%E5%B1%95%E5%BC%80%E4%BB%BB%E5%8A%A1icon%402x.png","onClick":e.changeShowSubTask.bind(e,a)})),(t.showDesc||t.subtaskDesc.length>0)&&n.i.createElement(S.a,{"id":"item-desc-"+t.subtaskId,"className":"item-desc"},t.subtaskDesc),t.expireTime&&n.i.createElement(S.a,{"className":"item-expireTime"},t.expireTimeStr),t.executorInfo&&t.executorInfo.length>0&&n.i.createElement(S.a,{"className":"item-executorInfo"},t.executorInfoStr),l[a]&&t.taskSplitList.length>0&&n.i.createElement(I,{"list":t.taskSplitList,"level":s+1,"handle":e.props.handle,"focusCallback":e.props.focusCallback,"BlurCallback":e.props.BlurCallback,"taskSplitActived":e.props.taskSplitActived})))}))}}]),TaskListA}();x.defaultProps={"list":[]};a(38);var O=function(){function defineProperties(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,a){return t&&defineProperties(e.prototype,t),a&&defineProperties(e,a),e}}();var L=function(e){function TaskLookB(e){!function TaskLookB_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TaskLookB);var t=function TaskLookB_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(TaskLookB.__proto__||Object.getPrototypeOf(TaskLookB)).call(this,e));return t.state={"leftDist":11},t}return function TaskLookB_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(TaskLookB,l["a"].Component),O(TaskLookB,[{"key":"render","value":function render(){var e=this,t=this.props,s=t.list,i=t.level,o=this.state.leftDist;return n.i.createElement(A.a,null,s.map(function(t,s){return n.i.createElement(A.a,{"className":"task-item","style":"margin-left: "+(i?o:0)+"px","key":t.subtaskId},n.i.createElement(A.a,{"className":"\n                                        item-icon \n                                        "+(i>0?"item-icon--child":null)+"\n                                        "+(t.taskSplitList.length>0?"item-icon--haveChildren":null)+"\n                                    "}),n.i.createElement(A.a,{"className":"item-content"},n.i.createElement(A.a,{"className":"item-main"},n.i.createElement(S.a,{"className":"item-title","onClick":e.props.clickCallback.bind(e,t.subtaskId)},t.subtaskTitle),n.i.createElement(A.a,{"className":"item-info"},t.subtaskDesc&&n.i.createElement(T.a,{"className":"icon info-desc","src":a(39)}),t.expireTime&&n.i.createElement(T.a,{"className":"icon info-expireTime","src":a(40)}),t.executorInfo.length>0&&n.i.createElement(T.a,{"className":"icon info-executor","src":a(41)}))),t.taskSplitList.length>0&&n.i.createElement(D,{"list":t.taskSplitList,"level":i+1,"clickCallback":e.props.clickCallback})))}))}}]),TaskLookB}();L.defaultProps={"list":[]};var N=function(){function defineProperties(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,a){return t&&defineProperties(e.prototype,t),a&&defineProperties(e,a),e}}();var D=function(e){function TaskLookA(e){!function TaskLookA_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TaskLookA);var t=function TaskLookA_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(TaskLookA.__proto__||Object.getPrototypeOf(TaskLookA)).call(this,e));return t.state={"leftDist":11},t}return function TaskLookA_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(TaskLookA,l["a"].Component),N(TaskLookA,[{"key":"render","value":function render(){var e=this,t=this.props,s=t.list,i=t.level,o=this.state.leftDist;return n.i.createElement(A.a,null,s.map(function(t,s){return n.i.createElement(A.a,{"className":"task-item","style":"margin-left: "+(i?o:0)+"px","key":t.subtaskId},n.i.createElement(A.a,{"className":"\n                                        item-icon \n                                        "+(i>0?"item-icon--child":null)+"\n                                        "+(t.taskSplitList.length>0?"item-icon--haveChildren":null)+"\n                                    "}),n.i.createElement(A.a,{"className":"item-content"},n.i.createElement(A.a,{"className":"item-main"},n.i.createElement(S.a,{"className":"item-title","onClick":e.props.clickCallback.bind(e,t.subtaskId)},t.subtaskTitle),n.i.createElement(A.a,{"className":"item-info"},t.subtaskDesc&&n.i.createElement(T.a,{"className":"icon info-desc","src":a(39)}),t.expireTime&&n.i.createElement(T.a,{"className":"icon info-expireTime","src":a(40)}),t.executorInfo.length>0&&n.i.createElement(T.a,{"className":"icon info-executor","src":a(41)}))),t.taskSplitList.length>0&&n.i.createElement(L,{"list":t.taskSplitList,"level":i+1,"clickCallback":e.props.clickCallback})))}))}}]),TaskLookA}();D.defaultProps={"list":[]};a(87);var P=function(){function defineProperties(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,a){return t&&defineProperties(e.prototype,t),a&&defineProperties(e,a),e}}();var G=function(e){function Modal(e){!function Modal_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Modal);var t=function Modal_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Modal.__proto__||Object.getPrototypeOf(Modal)).call(this,e));return t.state={},t}return function Modal_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Modal,l["a"].Component),P(Modal,[{"key":"render","value":function render(){var e=this;return n.i.createElement(A.a,{"className":"confirm-modal","hidden":this.props.isHidden,"onTouchMove":function onTouchMove(e){return e.stopPropagation()}},n.i.createElement(A.a,{"className":"modal"},n.i.createElement(S.a,{"className":"modal-title"},this.props.title),n.i.createElement(S.a,{"className":"modal-content"},this.props.content),n.i.createElement(A.a,{"className":"btn-view"},n.i.createElement(w.a,{"className":"btn btn-cancel","onClick":function onClick(){return e.props.cancelCallback()}},this.props.cancelText),n.i.createElement(w.a,{"className":"btn btn-sure","onClick":function onClick(){return e.props.sureCallback()}},this.props.sureText))))}}]),Modal}(),F=a(105),j=(a(91),function(){function defineProperties(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,a){return t&&defineProperties(e.prototype,t),a&&defineProperties(e,a),e}}());var Y=function(e){function Confirm(){return function Confirm_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Confirm),function Confirm_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Confirm.__proto__||Object.getPrototypeOf(Confirm)).apply(this,arguments))}return function Confirm_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Confirm,l["a"].Component),j(Confirm,[{"key":"render","value":function render(){var e=this;return n.i.createElement(A.a,{"className":"confirm-view","hidden":this.props.isHidden,"onTouchMove":function onTouchMove(e){return e.stopPropagation()}},n.i.createElement(A.a,{"className":"confirm"},this.props.icon?n.i.createElement(T.a,{"className":"confirm-icon","src":this.props.icon}):null,n.i.createElement(S.a,{"className":"confirm-title"},this.props.title),n.i.createElement(S.a,{"className":"confirm-content"},this.props.content),n.i.createElement(A.a,{"className":"btn-view"},n.i.createElement(F.a,{"onSubmit":function onSubmit(t){return e.props.saveFormIdCallback(t)},"reportSubmit":!0},this.props.share?n.i.createElement(w.a,{"className":"btn btn-sure","formType":"submit","openType":"share","onClick":function onClick(){return e.props.confirmCallback?e.props.confirmCallback():null}},this.props.confirmText):n.i.createElement(w.a,{"className":"btn btn-sure","formType":"submit","onClick":function onClick(){return e.props.confirmCallback?e.props.confirmCallback():null}},this.props.confirmText)))))}}]),Confirm}();Y.defaultProps={"saveFormIdCallback":function saveFormIdCallback(e){},"icon":null};var R=Y,M=function(){function defineProperties(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,a){return t&&defineProperties(e.prototype,t),a&&defineProperties(e,a),e}}(),J=function get(e,t,a){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var s=Object.getPrototypeOf(e);return null===s?void 0:get(s,t,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0};function index_asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){return function step(n,s){try{var i=t[n](s),o=i.value}catch(e){return void a(e)}if(!i.done)return Promise.resolve(o).then(function(e){step("next",e)},function(e){step("throw",e)});e(o)}("next")})}}var _=function(e){function Index(e){!function index_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Index);var t=function index_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Index.__proto__||Object.getPrototypeOf(Index)).call(this,e));t.config={"navigationBarTitleText":"拆分任务","backgroundColor":"#F4F8FC"};var a=navigator.userAgent,n=a.match(/ipad/i),s=a.match(/iphone OS/i),i=!1;return(n||s)&&(i=!0),t.state={"data":{"taskId":0,"taskTitle":"","taskDesc":"","expireTime":0,"creatorAvatar":"","executorInfo":[],"taskSplitList":[]},"prevData":{},"taskNumber":0,"newTaskNumber":0,"currentPath":[],"currentTaskId":0,"falseTaskId":0,"windowHeight":window.innerHeight,"showFunctionBar":!1,"showConfirmButton":!0,"isIos":i,"edited":!1,"showAll":"-webkit-line-clamp: 1","showButton":!1,"length":length,"taskDetailHeight":0,"showModal":!1,"showConfirm":!1,"userId":0,"taskSplitActived":!1,"submitting":!1,"tasks":[],"showReadCookie":!1,"saved":!1},window.onresize=function(e){var a=t.state.windowHeight,n=window.innerHeight;console.log(e,a,n),a-n>50?(console.log("键盘弹出"),t.setState({"showConfirmButton":!1})):(console.log("键盘收起"),t.setState({"showConfirmButton":!0}))},t}return function index_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Index,l["a"].Component),M(Index,[{"key":"componentDidShow","value":function(){var e=index_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var e,t,a;return regeneratorRuntime.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:e=this.$router.params,t=e.taskId,a=e.userId,console.log("任务拆分页面参数",this.$router.params),this.getTaskSplit(t,a);case 3:case"end":return n.stop()}},_callee,this)}));return function componentDidShow(){return e.apply(this,arguments)}}()},{"key":"getTaskSplit","value":function(){var e=index_asyncToGenerator(regeneratorRuntime.mark(function _callee2(e,t){var a,n,i,o,r=this;return regeneratorRuntime.wrap(function _callee2$(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,v({"url":h.getSubtaskList,"data":{"taskId":e,"userId":t},"method":"GET"});case 2:a=l.sent,n=a,console.log("getTaskSplit 获取数据：",n),0===n.taskSplitList.length?(n.taskSplitList=JSON.parse(JSON.stringify(y)),""!==(i=Object(s.b)("prevChange_taskId="+e))&&this.setState({"prevData":JSON.parse(i),"showReadCookie":!0})):this.setState({"edited":!0}),n=this.initialData(n),o=[],o=this.getTasks(n.taskSplitList,o),console.log("初始tasks",o),this.setState({"data":n,"userId":t,"tasks":o},function(){r.setTaskNumber(),r.checkRemarkToggle()});case 11:case"end":return l.stop()}},_callee2,this)}));return function getTaskSplit(t,a){return e.apply(this,arguments)}}()},{"key":"updateTaskSplit","value":function(){var e=index_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var e,t,a,n;return regeneratorRuntime.wrap(function _callee3$(s){for(;;)switch(s.prev=s.next){case 0:return e=this.state,t=e.data,a=e.userId,s.next=3,v({"url":h.getSubtaskList,"data":{"taskId":t.taskId,"userId":a},"method":"GET"});case 3:n=s.sent,t=n,t=this.initialData(t),console.log("提交后更新数据",t),this.setState({"data":t});case 8:case"end":return s.stop()}},_callee3,this)}));return function updateTaskSplit(){return e.apply(this,arguments)}}()},{"key":"initialData","value":function initialData(e){e.taskTitle=decodeURIComponent(e.taskTitle),e.taskDesc=decodeURIComponent(e.taskDesc),this.initialList(e.taskSplitList);var t=e.executorInfo.length;return this.setState({"length":t}),e}},{"key":"initialList","value":function initialList(e){var t=this;e.forEach(function(e){if(e.subtaskTitle=decodeURIComponent(e.subtaskTitle),e.subtaskDesc=decodeURIComponent(e.subtaskDesc),e.expireTime){var a=new Date(e.expireTime),n=a.getHours(),s=a.getMinutes(),i=a.getSeconds(),o=function computedDateYMD(e){var t=new Date(e),a="";return a+=t.getFullYear(),a+="-",t.getMonth()+1<10&&(a+="0"),a+=t.getMonth()+1,a+="-",t.getDate()<10&&(a+="0"),a+=t.getDate()}(e.expireTime),r=!0;23===n&&59===s&&59===i&&(r=!1),r&&(o+=" "+function computedHM(e){var t=new Date(e),a="";return t.getHours()<10&&(a+="0"),a+=t.getHours(),a+=":",t.getMinutes()<10&&(a+="0"),a+=t.getMinutes()}(e.expireTime)),e.pickerNeedTime=r,e.expireTimeStr=o}if(e.executorInfo.length>0){var l,c=[];e.executorInfo.forEach(function(e){c.push("@"+e.nickname)}),l=c.join(" "),e.executorInfoStr=l}0!==e.taskSplitList.length&&t.initialList(e.taskSplitList)})}},{"key":"getTasks","value":function getTasks(e,t){var a=this;return e.forEach(function(e){e.showDefault||t.push(e.subtaskId),0!==e.taskSplitList.length&&a.getTasks(e.taskSplitList,t)}),t}},{"key":"showAll","value":function showAll(){var e=this.state.showAll;e="-webkit-line-clamp: 1"==e?"-webkit-line-clamp: ''":"-webkit-line-clamp: 1",this.setState({"showAll":e})}},{"key":"scrollToTaskSplit","value":function scrollToTaskSplit(){var e=document.getElementsByClassName("task-split")[0].offsetTop;console.log("scrollToTaskSplit",e,window),Object(i.a)({"scrollTop":e-15})}},{"key":"getElementWidth","value":function getElementWidth(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(o.a)();return new Promise(function(a){t.selectAll(e).fields({"size":!0},function(e){a(e)}).exec()})}},{"key":"checkRemarkToggle","value":function checkRemarkToggle(){var e=this,t=this.state.data,a=!1;this.getElementWidth("#target").then(function(n){(n[0].height>20||t.executorInfo.length>0)&&(a=!0),e.setState({"showButton":a})})}},{"key":"bindBlur","value":function bindBlur(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;console.log("bindBlur",e,t);var a=this.state.data;this.clearItemFocus(a.taskSplitList,e);var n=this.getTaskNumber(a.taskSplitList);if(console.log("现在的任务数量：",n),1===n&&0===a.taskSplitList[0].subtaskTitle.length)return a.taskSplitList=JSON.parse(JSON.stringify(y)),void this.setState({"data":a,"newTaskNumber":0,"taskNumber":0});Object(s.d)({"key":"prevChange_taskId="+a.taskId,"data":JSON.stringify(a)})}},{"key":"bindFocus","value":function bindFocus(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;console.log("bindFocus",e,t);var a=this.state.data,n=this.findItem(a.taskSplitList,e);console.log("currentPath",n),this.setState({"currentPath":n,"currentTaskId":e,"showFunctionBar":!0})}},{"key":"activeTaskSplit","value":function activeTaskSplit(e){var t=this;e&&(e.stopPropagation(),console.log("停止冒泡")),console.log("activeTaskSplit");var a=this.state,n=a.data,s=a.taskSplitActived,i=a.newTaskNumber;s||(console.log("activeTaskSplit 滚动界面"),this.setState({"taskSplitActived":!0},function(){t.scrollToTaskSplit()}));var o=this.getTaskNumber(n.taskSplitList);if(console.log("激活拆分任务框任务数量",o),0===o){console.log("任务数量为0"),n.taskSplitList=[];var r=this.getNewTask("newTask"+i,"","");n.taskSplitList.push(r),this.setState({"data":n,"newTaskNumber":1,"taskNumber":1},function(){t.bindFocus(r.taskId)})}}},{"key":"hideFunctionBar","value":function hideFunctionBar(e){var t=this;e&&(e.stopPropagation(),console.log("停止冒泡")),console.log("hideFunctionBar"),this.state.taskSplitActived?(console.log("隐藏功能栏"),this.setState({"showFunctionBar":!1})):(console.log("activeTaskSplit 滚动界面"),this.setState({"taskSplitActived":!0},function(){t.scrollToTaskSplit()}))}},{"key":"clearItemFocus","value":function clearItemFocus(e,t){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=0;n<e.length;n++){var s=e[n];if(a.push(n),s.subtaskId===t)return s.onFocus=!1,a;if(0===s.taskSplitList.length)a.pop();else{var i=a.length;if(this.clearItemFocus(s.taskSplitList,t,a),a.length>i)return a;a.pop()}}}},{"key":"findItem","value":function findItem(e,t){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=0;n<e.length;n++){var s=e[n];if(a.push(n),s.subtaskId===t)return s.onFocus=!0,a;if(0===s.taskSplitList.length)a.pop();else{var i=a.length;if(this.findItem(s.taskSplitList,t,a),a.length>i)return a;a.pop()}}}},{"key":"getNewTask","value":function getNewTask(e,t,a){var n=new Object;return n.subtaskId=e,n.subtaskTitle=t,n.subtaskDesc=a,n.expireTime=null,n.executorInfo=[],n.taskSplitList=[],n.onFocus=!0,n.newTask=!0,n}},{"key":"clearAllFocus","value":function clearAllFocus(){var e=this;(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.data).taskSplitList.forEach(function(t){t.onFocus=!1,t.taskSplitList.length>0&&e.clearAllFocus(t)})}},{"key":"handle","value":function handle(e,t){"addSibling"===e?this.addSibling():"setTitle"===e&&this.setTitle(t)}},{"key":"addSibling","value":function addSibling(){var e=this;this.clearAllFocus();var t=this.state,a=t.data,n=t.newTaskNumber,s=t.currentPath,i=a.taskSplitList,o=void 0;for(o=0;o<s.length-1;o++){i=i[s[o]].taskSplitList}var r,l=s[o];r=this.getNewTask("newTask"+n,"",""),this.setState({"newTaskNumber":n+1},function(){e.setTaskNumber()}),i.splice(l+1,0,r),this.setState({"data":a},function(){e.bindFocus(r.subtaskId)})}},{"key":"setTitle","value":function setTitle(e){var t=this.state,a=t.data,n=t.currentPath,s=a.taskSplitList,i=void 0;for(i=0;i<n.length-1;i++){s=s[n[i]].taskSplitList}var o=n[i];console.log("setTitle",e),s[o].subtaskTitle=e.detail.value,this.setState({"data":a})}},{"key":"deleteTask","value":function deleteTask(){var e=this;console.log("deleteTask");var t=this.state,a=t.data,n=t.currentPath,s=a.taskSplitList,i=void 0;for(i=0;i<n.length-1;i++){s=s[n[i]].taskSplitList}var o=n[i];if(s.splice(o,1),o>0)s[o-1].onFocus=!0;else if(n.length>1){for(s=a.taskSplitList,i=0;i<n.length-2;i++){s=s[n[i]].taskSplitList}s[n[i]].onFocus=!0}0===this.getTaskNumber(a.taskSplitList)&&(a.taskSplitList=JSON.parse(JSON.stringify(y))),this.setState({"data":a},function(){e.setTaskNumber()})}},{"key":"increaseLevel","value":function increaseLevel(){var e=this,t=this.state,a=t.data,n=t.currentPath;if(1!==n.length){this.clearAllFocus();var s=n,i=a.taskSplitList,o=void 0;for(o=0;o<s.length-1;o++){i=i[s[o]].taskSplitList}var l=s[o],c=a.taskSplitList,u=void 0;for(u=0;u<s.length-2;u++){c=c[s[u]].taskSplitList}var p=s[u],h=i.splice(l,1)[0];h.onFocus=!0,c.splice(p+1,0,h),this.setState({"data":a},function(){e.bindFocus(h.subtaskId)})}else Object(r.c)({"title":"该任务已经是1级任务啦~","icon":"none","duration":800,"mask":!0})}},{"key":"decreaseLevel","value":function decreaseLevel(){var e=this,t=this.state,a=t.data,n=t.currentPath;if(6!==n.length)if(0!==n[n.length-1]){var s=n,i=a.taskSplitList,o=void 0;for(o=0;o<s.length-1;o++){i=i[s[o]].taskSplitList}var l=s[o],c=i.splice(l,1)[0];c.onFocus=!0,(i=i[l-1].taskSplitList).push(c),this.setState({"data":a},function(){e.bindFocus(c.subtaskId)})}else Object(r.c)({"title":"无法继续缩进啦~","icon":"none","duration":800,"mask":!0});else Object(r.c)({"title":"最多创建6级子任务","icon":"none","duration":800,"mask":!0})}},{"key":"shiftUp","value":function shiftUp(){var e=this,t=this.state,a=t.data,n=t.currentPath;if(1!==n.length||0!==n[0]){var s=n,i=a.taskSplitList,o=void 0;for(o=0;o<s.length-1;o++){i=i[s[o]].taskSplitList}var r=s[o],l=i.splice(r,1)[0];if(r>0){var c=i[r-1];if(0===c.taskSplitList.length)i.splice(r-1,0,l);else{for(var u=c;;){var p=u.taskSplitList[u.taskSplitList.length-1];if(0===p.taskSplitList.length)break;u=p}var h=u.taskSplitList.length-1;u.taskSplitList.splice(h,0,l)}}else{var k=a.taskSplitList,f=void 0;for(f=0;f<s.length-2;f++){k=k[s[f]].taskSplitList}var m=s[f];k.splice(m,0,l)}this.setState({"data":a},function(){e.bindFocus(l.subtaskId)})}}},{"key":"shiftDown","value":function shiftDown(){var e=this,t=this.state,a=t.data,n=t.currentPath;if(1!==n.length||n[0]!==a.taskSplitList.length-1){var s=n,i=a.taskSplitList,o=void 0;for(o=0;o<s.length-1;o++){i=i[s[o]].taskSplitList}var r=s[o],l=i.splice(r,1)[0];if(r!==i.length){var c=i[r];0===c.taskSplitList.length?i.splice(r+1,0,l):c.taskSplitList.unshift(l)}else{var u=JSON.parse(JSON.stringify(n));for(u.pop();u.length>0;){for(var p=a,h=0;h<u.length-1;h++)p=p.taskSplitList[u[h]];if(u[u.length-1]!==p.taskSplitList.length-1)break;u.pop()}for(var k=a,f=0;f<u.length-1;f++)k=k.taskSplitList[u[f]];var m=u[u.length-1]+2;k.taskSplitList.splice(m,0,l)}this.setState({"data":a},function(){e.bindFocus(l.subtaskId)})}}},{"key":"openModal","value":function openModal(){var e=this.state,t=e.data,a=e.currentPath,n=t.taskSplitList,s=void 0;for(s=0;s<a.length-1;s++){n=n[a[s]].taskSplitList}var i=a[s];n[i].taskSplitList.length>0&&!n[i].taskSplitList[0].showDefault?this.setState({"showModal":!0}):this.deleteTask()}},{"key":"sureDelete","value":function sureDelete(){this.deleteTask(),this.setState({"showModal":!1})}},{"key":"cancelDelete","value":function cancelDelete(){this.setState({"showModal":!1})}},{"key":"checkTaskSplit","value":function checkTaskSplit(){var e=this.state.data;if(this.checkTaskTitle(e.taskSplitList)){var t=this.getTaskNumber(e.taskSplitList);console.log("getTaskNumber",t),0!==t&&this.submitTaskSplit()}}},{"key":"submitTaskSplit","value":function(){var e=index_asyncToGenerator(regeneratorRuntime.mark(function _callee4(){var e,t,a,n,i,o=this;return regeneratorRuntime.wrap(function _callee4$(l){for(;;)switch(l.prev=l.next){case 0:return e=this.state,t=e.data,a=e.userId,(n=new Object).userId=a,n.taskId=t.taskId,n.taskSplitList=new Array,this.transformData(t.taskSplitList,n.taskSplitList),n.taskSplitList=JSON.stringify(n.taskSplitList),n.deleteTasks=JSON.stringify(this.getDeleteTasks()),console.log("submitTaskSplit 提交的数据:",n),this.setState({"submitting":!0}),l.next=12,v({"url":h.submitTaskSplit,"data":n,"method":"POST"});case 12:i=l.sent,this.setState({"submitting":!1}),i.errMsg?Object(r.c)({"title":"保存失败","icon":"none","duration":800,"mask":!0}):(Object(r.c)({"title":"保存成功","icon":"none","duration":800,"mask":!0}),setTimeout(function(){Object(s.c)({"key":"prevChange_taskId="+t.taskId}),o.updateTaskSplit(),o.setState({"edited":!0,"taskSplitActived":!1,"saved":!0,"newTaskNumber":0})},800));case 15:case"end":return l.stop()}},_callee4,this)}));return function submitTaskSplit(){return e.apply(this,arguments)}}()},{"key":"getDeleteTasks","value":function getDeleteTasks(){var e=this.state,t=e.tasks,a=e.data,n=[];n=this.getTasks(a.taskSplitList,n);var s=[];return t.forEach(function(e){-1===n.indexOf(e)&&s.push(e)}),console.log(t),console.log(n),console.log(s),s}},{"key":"transformData","value":function transformData(e,t){for(var a=0;a<e.length;a++){var n=e[a];t[a]=new Object;var s=t[a];n.newTask?s.taskId=0:s.taskId=n.subtaskId,s.subtaskTitle=encodeURIComponent(n.subtaskTitle),s.subtaskDesc=encodeURIComponent(n.subtaskDesc),s.expireTime=n.expireTime,s.taskSplitList=new Array,0!==n.taskSplitList.length&&this.transformData(n.taskSplitList,s.taskSplitList)}}},{"key":"setTaskNumber","value":function setTaskNumber(){var e=this.state.data,t=this.getTaskNumber(e.taskSplitList);this.setState({"taskNumber":t})}},{"key":"getTaskNumber","value":function getTaskNumber(e){for(var t=0,a=0;a<e.length;a++){var n=e[a];0===n.taskSplitList.length?n.showDefault||(t+=1):(t+=this.getTaskNumber(n.taskSplitList),n.showDefault||(t+=1))}return t}},{"key":"checkTaskTitle","value":function checkTaskTitle(e){for(var t=0;t<e.length;t++){var a=e[t];if(0===a.subtaskTitle.length&&!a.showDefault)return this.setState({"falseTaskId":a.subtaskId,"showConfirm":!0}),!1;if(0!==a.taskSplitList.length&&!this.checkTaskTitle(a.taskSplitList))return!1}return!0}},{"key":"confirm","value":function confirm(){var e=this,t=this.state.falseTaskId;this.setState({"showConfirm":!1},function(){e.bindFocus(t)})}},{"key":"jumpToDetail","value":function jumpToDetail(e){console.log("跳转详情页",e),wx.miniProgram.navigateTo({"url":"/pages/taskDetail/taskDetail?taskId="+e})}},{"key":"editTaskSplit","value":function editTaskSplit(){var e=this,t=this.state.data;this.setState({"edited":!1,"saved":!1},function(){var a=Object(s.b)("prevChange_taskId="+t.taskId);console.log("prevChange",a),""!==a&&e.setState({"prevData":JSON.parse(a),"showReadCookie":!0})})}},{"key":"readCookie","value":function readCookie(){var e=this,t=this.state.prevData,a=this.getNewTaskNumber(t.taskSplitList);console.log("newTaskNumber",a),this.setState({"data":t,"showReadCookie":!1,"newTaskNumber":a},function(){e.setTaskNumber()})}},{"key":"getNewTaskNumber","value":function getNewTaskNumber(e){var t=this,a=0;return e.forEach(function(e){e.newTask&&a++,0!==e.taskSplitList.length&&(a+=t.getNewTaskNumber(e.taskSplitList))}),a}},{"key":"deleteCookie","value":function deleteCookie(){var e=this.state.data;Object(s.c)({"key":"prevChange_taskId="+e.taskId}),this.setState({"showReadCookie":!1})}},{"key":"render","value":function render(){var e=this,t=this.state,s=t.data,i=t.taskNumber,o=t.showButton,r=t.showAll,l=t.length,c=t.showModal,u=t.showConfirm,p=t.windowHeight,h=t.showFunctionBar,k=t.showConfirmButton,f=t.isIos,m=t.edited,d=t.submitting,g=t.showReadCookie,b=t.taskSplitActived,v="-webkit-line-clamp: ''";return n.i.createElement(A.a,{"className":"index"},n.i.createElement(A.a,{"className":"taskDetail"},n.i.createElement(A.a,{"className":"title","style":"line-height: 53rpx;"},s.taskTitle),n.i.createElement(A.a,{"className":"taskContent","style":r+"; -webkit-box-orient: vertical !important;"},n.i.createElement(S.a,{"id":"target"},s.taskDesc)),(r===v||0===s.taskDesc.length)&&n.i.createElement(A.a,{"className":"taskInfo"},null!=s.expireTime&&n.i.createElement(A.a,{"className":"expireTime"},n.i.createElement(S.a,null,function computedDay(e){var t=new Date(e);return t.getMonth()+1+"月"+t.getDate()+"日"}(s.expireTime))),n.i.createElement(A.a,{"className":"taskAvatar"},n.i.createElement(A.a,{"className":"avatar","onClick":function onClick(){return e.setState({"showExecutorList":!0})}},n.i.createElement(T.a,{"src":s.creatorAvatar,"className":"avatarItem","style":"margin-right: 0"}),n.i.createElement(T.a,{"src":a(93),"className":"triangle"}),s.executorInfo.map(function(e,t){return t<4&&n.i.createElement(T.a,{"src":e.avatar,"key":"{{index}}","className":"avatarItem"})}),0==l&&n.i.createElement(T.a,{"src":a(94),"key":"{{index}}","className":"avatarItem"}),l>4&&n.i.createElement(T.a,{"src":a(95),"key":"{{index}}","className":"avatarItem"})))),o&&"-webkit-line-clamp: 1"==r&&n.i.createElement(w.a,{"className":"showAll","onClick":this.showAll.bind(this),"data-index":"{{index}}","style":"bottom: 5px"}),o&&r==v&&n.i.createElement(w.a,{"className":"showAll","onClick":this.showAll.bind(this),"data-index":"{{index}}","style":"transform:rotate(180deg);"})),m?n.i.createElement(A.a,{"className":"task-look","style":"height: "+p+"px"},n.i.createElement(A.a,{"className":"look-title"},n.i.createElement(S.a,{"className":"title-text"},"拆分任务"),n.i.createElement(T.a,{"className":"title-split","onClick":this.editTaskSplit.bind(this),"src":a(96)})),n.i.createElement(A.a,{"className":"look-list"},n.i.createElement(D,{"list":s.taskSplitList,"level":0,"clickCallback":function clickCallback(t){return e.jumpToDetail(t)}}))):n.i.createElement(A.a,{"className":"task-split","style":"height: "+p+"px"},n.i.createElement(A.a,{"className":"split-list","onClick":0===i?this.activeTaskSplit.bind(this):this.hideFunctionBar.bind(this)},n.i.createElement(x,{"list":s.taskSplitList,"level":0,"handle":function handle(t,a){return e.handle(t,a)},"focusCallback":function focusCallback(t,a){return e.bindFocus(t,a)},"BlurCallback":function BlurCallback(t,a){return e.bindBlur(t,a)},"taskSplitActived":b})),k&&n.i.createElement(w.a,{"className":"\n                                        btn \n                                        split-submit\n                                        "+(0===i||d?"split-submit--default":null)+"\n                                    ","disabled":!(0!==i&&!d),"onClick":this.checkTaskSplit.bind(this)},"完成")),!m&&h&&n.i.createElement(A.a,{"className":"functionBar","style":f?"top: 0px":"bottom: 0px"},n.i.createElement(T.a,{"className":"img","onClick":this.increaseLevel.bind(this),"src":"https://nanniwan01.oss-cn-shenzhen.aliyuncs.com/kuaitongbu/%E5%B7%A5%E5%85%B7%E6%A0%8F/%E8%AE%BE%E4%B8%BA%E7%88%B6%E4%BB%BB%E5%8A%A1icon%402x.png"}),n.i.createElement(T.a,{"className":"img","onClick":this.decreaseLevel.bind(this),"src":"https://nanniwan01.oss-cn-shenzhen.aliyuncs.com/kuaitongbu/%E5%B7%A5%E5%85%B7%E6%A0%8F/%E8%AE%BE%E4%B8%BA%E5%AD%90%E4%BB%BB%E5%8A%A1icon%402x.png"}),n.i.createElement(T.a,{"className":"img","onClick":this.shiftUp.bind(this),"src":"https://nanniwan01.oss-cn-shenzhen.aliyuncs.com/kuaitongbu/%E5%B7%A5%E5%85%B7%E6%A0%8F/%E4%B8%8A%E7%A7%BBicon%402x.png"}),n.i.createElement(T.a,{"className":"img","onClick":this.shiftDown.bind(this),"src":"https://nanniwan01.oss-cn-shenzhen.aliyuncs.com/kuaitongbu/%E5%B7%A5%E5%85%B7%E6%A0%8F/%E4%B8%8B%E7%A7%BBicon%402x.png"}),n.i.createElement(T.a,{"className":"img","onClick":this.openModal.bind(this),"src":"https://nanniwan01.oss-cn-shenzhen.aliyuncs.com/kuaitongbu/%E5%B7%A5%E5%85%B7%E6%A0%8F/%E5%88%A0%E9%99%A4icon%402x.png"})),n.i.createElement(G,{"isHidden":!c,"title":"是否删除任务","content":"删除该任务，包括该任务的所有子任务","sureText":"确定","cancelText":"取消","cancelCallback":function cancelCallback(){return e.cancelDelete()},"sureCallback":function sureCallback(){return e.sureDelete()}}),n.i.createElement(G,{"isHidden":!g,"title":"有内容未提交","content":"上次有未提交内容，是否恢复？","sureText":"确定","cancelText":"取消","cancelCallback":function cancelCallback(){return e.deleteCookie()},"sureCallback":function sureCallback(){return e.readCookie()}}),n.i.createElement(R,{"isHidden":!u,"title":"有任务标题未填写","content":"必须填写任务标题才能创建子任务，请填写任务标题，或删除该子任务。","confirmText":"确定","confirmCallback":function confirmCallback(){return e.confirm()},"share":!1}))}},{"key":"componentDidMount","value":function componentDidMount(){J(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidMount",this)&&J(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidMount",this).call(this)}},{"key":"componentDidHide","value":function componentDidHide(){J(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidHide",this)&&J(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidHide",this).call(this)}}]),Index}();t.default=_},"31":function(e,t,a){},"38":function(e,t,a){},"39":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAAEy1B8wAAAAAXNSR0IArs4c6QAAAJ9QTFRFAAAA////////qqqqv7+/mZmZqqqqkpKSn5+fmZmZi4uLiYmJiIiIhYWFg4ODh4eHgoKCgoKChISEgYGBgYGBgoKCgYGBgoKCgICAgYGBgICAgYGBgICAgYGBgICAgICAgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgICAgICAgICAgYGBgYGBgICAgICAgYGBgICAW62nvgAAADR0Uk5TAAECAwQFBgcICgsNDxkhJDM9Pnd5ent+g4iNkpeYm52goqSorLCytLi8vsDDx8nm7Pn9/qeaM/YAAADfSURBVCjPrVHJFoIwDIzgrqi1ivuuuFvB+f9vk63QWp5ezCHzJkOTSSAywk8RceZZHUrWI66VxzHW5zFvR0y+kBhE4DAiF2msiCylZxXrfEQTU6KHpM9BOgn6YIU6IkyebC2YafQlRaJu+Gm+207rdIBq6oSSsvcViim6Q3Vh46fHAiocjTI/4zw6GBPStJdUmZdVsiOm0X/53DG2tjdYhCBgSpU9sLWjwcZ/rR2BpZW4+hAbZ2AWomUZYusGTPJHmngBRnJPQ+z08iOg0NBfRA+8SOPJcd0ABREM6Xu8AQAeJ4B0Xs/SAAAAAElFTkSuQmCC"},"40":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAAEy1B8wAAAAAXNSR0IArs4c6QAAAHtQTFRFAAAA////v7+/qqqq////h4eHhoaGiYmJhoaGg4ODgoKCgoKCg4OD////goKCgoKC////gICAgICAgYGBgYGBgICAgYGBgYGBgICAgYGBgYGB/f39gICAgYGBgYGBgICAgYGBgYGBgICAgYGBgICApKSkpaWlv7+/////rOM0PAAAACR0Uk5TAAEEBg8RExwoKS0/TGZudICHkZamtba4vdba4OLm7O3u+vv8F2Q9fgAAAPVJREFUKM+VUe1WwjAMjVipisOpA8Uxhnqlef8ntE3WEtjpD+92mqT5ursj6h1lQE5P5Ppy5yXBITDI4FENxyfWIMFP/bB2MdnvZAe515PRUgvWG089O3Lck49ZWCirTfRulKEOPz6RCXGX+XvTKtTTUJmukJVpd8KIAEZ8A0ZpL8UoahRhLknNslqxNyHR7tmGS9hi+nmw4f3hYpSZPJ7XjiXR8O+JG+vk39UNCOmbQqyfnKETJajD1seGU+4Ux2/RySpZ65pGlcqOXqOGc8kM/0hudNhXtXONz9ta8g3v1Z0feK0SWrysZoREoWtkhUTba4i2f1SFKXt3j3d6AAAAAElFTkSuQmCC"},"41":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAAEy1B8wAAAAAXNSR0IArs4c6QAAALdQTFRFAAAA////qqqqqqqqkpKSmZmZiYmJh4eHi4uLhYWFiYmJg4ODg4ODhoaGhYWFhISEgoKChISEgoKCg4ODg4ODgYGBg4ODgYGBgYGBgoKCgoKCgoKCgYGBgICAgICAgYGBgICAgYGBgYGBgYGBgICAgICAgYGBgICAgYGBgYGBgICAgICAgYGBgYGBgICAgYGBgYGBgYGBgYGBgYGBgYGBgICAgICAgYGBgICAgICAgICAgYGBgICApEBelQAAADx0Uk5TAAIDBgcKDREWGRolJygyNjc4O0JITVJVXWRwen2BhYqNlpqmrbO0tcLEx8nMzs/Q2uDi5ujp7e7z9/3+YdTPRgAAASVJREFUKM91UotWgzAMTdXh6luxTqcw33Q+mNXp0N7//y4boDAKyzn0Jk2T3ptCVJrkBSC6dkCNLctt91lZ7YJShjcKTKuYoairI0GG8Qr21cET+xnRfdniuSpJijxq6hPtFtHcvFD+4spiAMYH5rOEm2PqHmLv5agTDliUFwmtNVZS27ZGsJak00IWnVDlDY+UKbcajCMZ+0As8fsNnFXRPiYMo7oWI38s42FOO5wb3hn4QdZkbFDUt5ip8MjivnyDVJQEU5goSC6gvKuQB8kC0rsSRZBMoEUtXCPp8bHQSkqlYfuMdi4eVxb4W96dBpnxHHifHmy5wZ3MvtCSI9r9wHy8Qf05Vnu9TVTDO8TPdpDJqlm5l3jA5UC7unJyO3RXVv7M/0nlImq85c0qAAAAAElFTkSuQmCC"},"44":function(e,t,a){},"87":function(e,t,a){},"91":function(e,t,a){},"93":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAWCAYAAADwza0nAAAArElEQVR4AWNIK+g4mFbYcTWtuEeDgRSQWtDxH4SBmj+kFXa5kaQRgTv/pBV25pCoEYGBzp/W0LCfhTSNCKfvLmjoFyBJI8LmzhvppV2qpGhE4MLOt2lFnY6kaUTY/Cu9sCsNt0bCBvSvWrWKGa6RRM3bchsm8ZGmEeHvQ6RpRMTzYfo4Nb2wYwIocGgZHYgEQOskh0jktMxWiIxM26IDlAqAIXclq6xTk4EEAAABvbx2+YCkbQAAAABJRU5ErkJggg=="},"94":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAA8FBMVEXl6u/k6e7j6O7k6O7k6e/j5+3i5+3j6O3k6e3h5uzg5ezf5Ovi5u3////i6O3j5+7h5+3i6O7f4+vg5evh5ezl6e7+/v7e4+rk6O33+Pr9/f76+/zh5u3i5+zg5Ov2+Pni5uz8/f39/f3m6u/v8vXx8/b29/ne5Oru8fTz9Pf7+/z7/Pzo6/Hg5u3o6/Df5Ozo7PHn6/Dj6e/z9ff2+Pre4uri5eze4+vp7PHu8fXy9Pfm6u74+fv6+vz8/P3q7fLl6O/w8/bw8vbh5e35+vvm6e/t7/Pn6u/y9Pbw8vX3+frz9fj4+vve5Ovd4+r19vl6vxfyAAAEWElEQVR4Xu2Y1ZbcSgxF50gqMEIzDTOEmZnp///matLpS2M7riSPs9sP7S6tvVR2tVT22p/hkksuEbnw7TeQ7wcgAizPftumHyyF0JPfcqoKSxtYwdKph/y6DsqQGc57B+YhlJUy3KeA2ePG3nQ+m82nezfgmSFKuFHUCRAD1z9mf/PxOsAELAOCfcQMujXK/sXoFoGZfskIsKeb0+x/TG+SZyDQJyIghpD6LhhJwAQRCUpPwF74OKvhmMUzBGtBRiEmOhvVCUdnREwaEqADwKjsNKtlaiswAq6jqJFBxaOsgUcFgRFSKwQMcntNwj1HYIRcQsAT5dMm4TQn8kDIjIcgl86bhPPUkYZoZOeqwER5OmsSztKciANqBITJ2DahNcSCtY5AIbNeNk+5XDcEpfNFZFflabnZJNws07xyLNJd6MkVW0dNwqOtwpEPF3KTkFfCwCnHDXPejFdTDrwpg9364rA7CLwpq2UTxft1wv04alw27Qs7upLcvui7nVyJGhd2+1+v7Md3L1zGzbtxvwz6662Kg7GaYpzs/7dJ7SexJmhNQHFQIJgQ5zaK4jh+fvCP7+C5/hBFNmeaQLDWGWDoydpF9CreSHrm7cGT2ezJwVvTSzbiV9HCWvJDIKhJsSejt2UwSPpJLxmP79wZj5OengwGeksMeQ5qUgBYjF0v07i/cW48HI8P1acncVquWyOMgAxFQOzFOLOIBlG8Ed9LeoeHveSeftUfFjogngkinTdJoAkqk5sF7j94+O3x6dPZaDR7evr428MH97HQgQoTQqdNk/xI0BGZZ8e1FXF+/MwQuR8pSpdNEiae3rw4zRo5ffGG/AQEFUi7DxAwg17uZK3svCQwQwA1tvuEney+zn7K611xLK1GHYAQe7q6nXVg+yp5JkHrrEUY1budrBM77yqwSItMAPYVz7OOzLnyDEiTFAJ2ZN5nnXlvyDEETWVQwGIw6i4cwQhDGgojhNhR8SEL4ENBjknQlKAnsichwhNL5JtSFGJn3FkWxFVnHFP9jCEshT0KEx7ZQliAhiVI1nwKE34yluoX46rVfQ4Tfl41wNqi6igvTsKEJ0W+qmQ1TyZgl26HCbdTx2CStQZhXozChKMibxE644w2De1tSW/85eu4ka9fxr1EwzTYOOPqhcDQV+e9OIq1GV9Ler1mYa+nARvnPX9hbfW9R0v905Oxtoz6A1X2Nc1rDWhyfdUN+lFpral9qlq1OmPztNyK4ijux3HSSKzDGrRVprk1ywZYN2UagriwaVraKOproo3oYBTZMk1twYQh1fWBVfln62yqRGXUQhmlioYy+aZqowATLxWpUmeybprRQQ1xlirxE0CU+o4MsHdExhSmsG1CqwHGEDnPwLI7NxiFmZ0jIaqoBR0Uco6ZBW3dXqAQD3nC7FthDRkyQZHW3bpAAUGEWhEBQYFA2jq9HtADIoJWZLlnwLlMfvryscs7mVVQx01iB1amS/4CzMmMlWeOI5IAAAAASUVORK5CYII="},"95":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAABPJJREFUaAXlm89vG0UUx+dtnFqNs7HcqvwQf0DghBCHglQVIqGKSkhI3MIFbvwBLdzgAEfgD+BGL+SGhFSJqJdQFKnk0CJOkD8AgUCp5awNShPv431nGWc8GTvrtROvxysl82Z2frzPvtnZ+fFM6owuZl5qtTrXUqVeZlKrSvEqMT2jiGOlSP5wcaKYEib+U9J2idVupNTDer22TUT/ZHkm+58mWV2SJE8dpfQuK35HAK4K9IUi9QvsE3kYO6To20rE38Rx/FeRenxlJgLcTP69zmn3Q2ngTYGs+BoqmibwR1J2k6KFzxvxxR+L1mPKjQXcTJI1TtWnzOqaqfAsQyK1TZH6uBHHPxRtpxBwp9N59uCIvxRrrhdteJxyYvWNaoVu1Wq1P0atZ2Tgx63OTcXpBitVH7WxSeYXxVuKovVL9dr3o9Qrg2L+a2+/fUsGk7vThoXGmQ58N9MpP0MuC0vXrT7e73ylmN/LX/U55iS6c2ml9oF09YPTWj0VOEn4ymHa/k4GpldPq2ya92VAe7AYLb8dx/T3MD2GdmlYdhZgAQiDZLpytTAwunHZLWvDQVf96tmJjjzQwnowKOs760D0RUXnYQOZ9x3Wnx6MxswDH0hfIyWLyOAlU3h6y/fJOgGsJxWH6a9l+PSM8xwFrFVdjF5wJycnLKhnUFOeVIwDasrCYGAxcRP2WVjmxq+nXbVlboYQRgtqzZ5791lYFgKfhQBpM7hMPWBZ4r0mw/q5rHpshc5aBhPYTDs9YFnP3jaJoYU2m36HsVNxmNLv8hma6OK9LA8OmwiLET+HnRNtYb0tEygsHjoMCUbIGjjbg0I03MswRkK/hA23cFENmd5UXKpgK1XoC+0umqpmIRTDXgBrhH3jWVB4EjqCNco2ySdRXfnrAKsMWiynAvNy8WoFxx/yDuci7nZTdW9rR/38y286/0svPq9urF1VCwu9+cvQeqZdHqwVfdaTj1fD3t9+1IMy8s038m134WGZMqjEyOdVHqxiGnOw1eMYKBjL2hl8afZ9W/bl9aXZZWzZl9eXZpfplwnA83Vh0EryIuOddS9fmpvHxH15fWkmvxv68vrS3HLHcU4qOJ8V6MvHiYMlDFC4TDdCYyZtcKnjOybvtMqDlfZayQMZpF85VitgidRPGLR2A0Z00Gg3gpuBkxpsVLtUiIkfBkvogIGVsDxs7neaWE0494OKyq7Hk8ZKrRGJIN4yvBMUnRdGnGSEVawsw5Z4y3jzBJRoGOdzE+9/P6jNgAzqomwaXy/dpXEXflBurlDiNlsPGE5f8IMKBdJwgMl2aOsBI4M4fX1iMoYSwpHNZukDllO2LRm6N+wMsyyDxT45BEvfcSkS5u5AXJ+Yi4ebPB3Z1ZzNS+suDO7pP2j6urTBg2+EbGl+ZOKzFkJ3n38HOE50aRtur9X+urTed7aitixeeZfry+/bSbY8FFgWFNXmfntrVny14I3XWFleky59YEPasrdLmwwoCHc+VGTSyhpCx0zXwbDQfaiFDRwsHYpz6VALG2BYWr8XEd0WuTSjt9ZFdIJu0NHoOyzMZWG7grlyEAc4hnt4uMkTndqMDG1Dh0GfHttArjyyhe0K4MgGP6jzcnfCQmAqP/KwoSFrH6/M7eksf8bzhax67rttjxofy8JuY+12++nDrlrPHEgC/qGWC464fMpK+VO8/wCUsy4+ZoJ7rwAAAABJRU5ErkJggg=="},"96":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAAAXNSR0IArs4c6QAAA3VJREFUWAntl9tLVFEUxr89KtLdy0soFGEUBYUESV4ihJ6jnoLoIkb4ks1YYiPdRDERLXPMQNLoTvjUQ6ZoEpQP1T8Q9RIkZAkqOOaYOmf3bfHIzHFmzplrEHNgOHvvtfdav/PtdfZZAySvpAJJBZIKhFJAhDLG01Z7V2bPLKKbMQ4T4h1/5e0O8css5j8BruqWWd4ZDEuJfB1QCHwmTKkZtE1fkKi7UtYIq2ITfpcE3ip7KJaEA3s0HCDYnkBQCnrWi4ZANn0sYcB1XXKt/Y68lFGJfm7/SQh4dQjfO6G3+faN7YQAK9hJD15pEq0T7ejJuoDeYNDM4wdGSN9+im8nHu3qx3Kd240+SJQu+8/3fMTWbDua5j7hC8eO8bcknE3gIl+6nlAccQVWsPOTeE3YQwYIP2ghcZSw1YRtM8xb1eUOxOeq65TrJ+YJCxwMGkHgIZU+O92J7bfPi69B5/kY4gJc0yM3eKbRzzjFPrECNoUNx1120RvQGGAwNcBYVEMKds6NATopMnUk0BIOrPIXU4UrXXIjNMJKFJrBMmebmbNOs3lGe8yOtctdcpPQMGgFlmnQFAmsgo+Jwgp2dpawQIFREWOfsI1Mg6vGcav9qIEdbTJDExjkF2q/WVAGa3BVietm80LZo0oJ5z2Zye/rkBVY5mx9tLDqQSJWWMH+/oM39LEvlCJLNoEbHQ5RbzrPwoSIvnSqnp33YJj+TWGp7DWXQ4SswCxwrkyJ6ByWsyhkibh3xUuQBmGv8DS4GcQc0XDYOcwS8VzRZgwEq7Z0CpsNtbGGVb7DSomaDpmzIDE86saOkhw0js74V1s6LN8MJ9OgeaUfw0ZYKTGnsfCWSGE6nBj5ARD69MgY/94AT9W44mIa1FDZlhgy+rkKC5hQZfpqHmV+0LQ9YZo4CXtLnxOPu+VjrcolCxa9+GiEoINnJbk482EceVZLRKOPcPqWXzr+vSkL5FgK5L7/iZ2JgFXxLSnMKiydVdgYtz1zGXqcKx+lpaI7UaC6WJZy2KbhiAZkMEeH+IT3d6/By4oKsaA7SeTdEjC33Z1uQ15rpfiWSLj/IpZpDjs6ZLHXi1NMh7R4PDGPxyme3a52u/huxb9pSmhePOfLtoWO43bRdRadl1sJYH6sSbzgNixacRbRHIEp+u+LaG1yUVKBpAJJBVYp8BeooBEsbiujTAAAAABJRU5ErkJggg=="}}]);