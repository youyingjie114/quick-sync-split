(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"100":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAA8FBMVEXl6u/k6e7j6O7k6O7k6e/j5+3i5+3j6O3k6e3h5uzg5ezf5Ovi5u3////i6O3j5+7h5+3i6O7f4+vg5evh5ezl6e7+/v7e4+rk6O33+Pr9/f76+/zh5u3i5+zg5Ov2+Pni5uz8/f39/f3m6u/v8vXx8/b29/ne5Oru8fTz9Pf7+/z7/Pzo6/Hg5u3o6/Df5Ozo7PHn6/Dj6e/z9ff2+Pre4uri5eze4+vp7PHu8fXy9Pfm6u74+fv6+vz8/P3q7fLl6O/w8/bw8vbh5e35+vvm6e/t7/Pn6u/y9Pbw8vX3+frz9fj4+vve5Ovd4+r19vl6vxfyAAAEWElEQVR4Xu2Y1ZbcSgxF50gqMEIzDTOEmZnp///matLpS2M7riSPs9sP7S6tvVR2tVT22p/hkksuEbnw7TeQ7wcgAizPftumHyyF0JPfcqoKSxtYwdKph/y6DsqQGc57B+YhlJUy3KeA2ePG3nQ+m82nezfgmSFKuFHUCRAD1z9mf/PxOsAELAOCfcQMujXK/sXoFoGZfskIsKeb0+x/TG+SZyDQJyIghpD6LhhJwAQRCUpPwF74OKvhmMUzBGtBRiEmOhvVCUdnREwaEqADwKjsNKtlaiswAq6jqJFBxaOsgUcFgRFSKwQMcntNwj1HYIRcQsAT5dMm4TQn8kDIjIcgl86bhPPUkYZoZOeqwER5OmsSztKciANqBITJ2DahNcSCtY5AIbNeNk+5XDcEpfNFZFflabnZJNws07xyLNJd6MkVW0dNwqOtwpEPF3KTkFfCwCnHDXPejFdTDrwpg9364rA7CLwpq2UTxft1wv04alw27Qs7upLcvui7nVyJGhd2+1+v7Md3L1zGzbtxvwz6662Kg7GaYpzs/7dJ7SexJmhNQHFQIJgQ5zaK4jh+fvCP7+C5/hBFNmeaQLDWGWDoydpF9CreSHrm7cGT2ezJwVvTSzbiV9HCWvJDIKhJsSejt2UwSPpJLxmP79wZj5OengwGeksMeQ5qUgBYjF0v07i/cW48HI8P1acncVquWyOMgAxFQOzFOLOIBlG8Ed9LeoeHveSeftUfFjogngkinTdJoAkqk5sF7j94+O3x6dPZaDR7evr428MH97HQgQoTQqdNk/xI0BGZZ8e1FXF+/MwQuR8pSpdNEiae3rw4zRo5ffGG/AQEFUi7DxAwg17uZK3svCQwQwA1tvuEney+zn7K611xLK1GHYAQe7q6nXVg+yp5JkHrrEUY1budrBM77yqwSItMAPYVz7OOzLnyDEiTFAJ2ZN5nnXlvyDEETWVQwGIw6i4cwQhDGgojhNhR8SEL4ENBjknQlKAnsichwhNL5JtSFGJn3FkWxFVnHFP9jCEshT0KEx7ZQliAhiVI1nwKE34yluoX46rVfQ4Tfl41wNqi6igvTsKEJ0W+qmQ1TyZgl26HCbdTx2CStQZhXozChKMibxE644w2De1tSW/85eu4ka9fxr1EwzTYOOPqhcDQV+e9OIq1GV9Ler1mYa+nARvnPX9hbfW9R0v905Oxtoz6A1X2Nc1rDWhyfdUN+lFpral9qlq1OmPztNyK4ijux3HSSKzDGrRVprk1ywZYN2UagriwaVraKOproo3oYBTZMk1twYQh1fWBVfln62yqRGXUQhmlioYy+aZqowATLxWpUmeybprRQQ1xlirxE0CU+o4MsHdExhSmsG1CqwHGEDnPwLI7NxiFmZ0jIaqoBR0Uco6ZBW3dXqAQD3nC7FthDRkyQZHW3bpAAUGEWhEBQYFA2jq9HtADIoJWZLlnwLlMfvryscs7mVVQx01iB1amS/4CzMmMlWeOI5IAAAAASUVORK5CYII="},"101":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAABPJJREFUaAXlm89vG0UUx+dtnFqNs7HcqvwQf0DghBCHglQVIqGKSkhI3MIFbvwBLdzgAEfgD+BGL+SGhFSJqJdQFKnk0CJOkD8AgUCp5awNShPv431nGWc8GTvrtROvxysl82Z2frzPvtnZ+fFM6owuZl5qtTrXUqVeZlKrSvEqMT2jiGOlSP5wcaKYEib+U9J2idVupNTDer22TUT/ZHkm+58mWV2SJE8dpfQuK35HAK4K9IUi9QvsE3kYO6To20rE38Rx/FeRenxlJgLcTP69zmn3Q2ngTYGs+BoqmibwR1J2k6KFzxvxxR+L1mPKjQXcTJI1TtWnzOqaqfAsQyK1TZH6uBHHPxRtpxBwp9N59uCIvxRrrhdteJxyYvWNaoVu1Wq1P0atZ2Tgx63OTcXpBitVH7WxSeYXxVuKovVL9dr3o9Qrg2L+a2+/fUsGk7vThoXGmQ58N9MpP0MuC0vXrT7e73ylmN/LX/U55iS6c2ml9oF09YPTWj0VOEn4ymHa/k4GpldPq2ya92VAe7AYLb8dx/T3MD2GdmlYdhZgAQiDZLpytTAwunHZLWvDQVf96tmJjjzQwnowKOs760D0RUXnYQOZ9x3Wnx6MxswDH0hfIyWLyOAlU3h6y/fJOgGsJxWH6a9l+PSM8xwFrFVdjF5wJycnLKhnUFOeVIwDasrCYGAxcRP2WVjmxq+nXbVlboYQRgtqzZ5791lYFgKfhQBpM7hMPWBZ4r0mw/q5rHpshc5aBhPYTDs9YFnP3jaJoYU2m36HsVNxmNLv8hma6OK9LA8OmwiLET+HnRNtYb0tEygsHjoMCUbIGjjbg0I03MswRkK/hA23cFENmd5UXKpgK1XoC+0umqpmIRTDXgBrhH3jWVB4EjqCNco2ySdRXfnrAKsMWiynAvNy8WoFxx/yDuci7nZTdW9rR/38y286/0svPq9urF1VCwu9+cvQeqZdHqwVfdaTj1fD3t9+1IMy8s038m134WGZMqjEyOdVHqxiGnOw1eMYKBjL2hl8afZ9W/bl9aXZZWzZl9eXZpfplwnA83Vh0EryIuOddS9fmpvHxH15fWkmvxv68vrS3HLHcU4qOJ8V6MvHiYMlDFC4TDdCYyZtcKnjOybvtMqDlfZayQMZpF85VitgidRPGLR2A0Z00Gg3gpuBkxpsVLtUiIkfBkvogIGVsDxs7neaWE0494OKyq7Hk8ZKrRGJIN4yvBMUnRdGnGSEVawsw5Z4y3jzBJRoGOdzE+9/P6jNgAzqomwaXy/dpXEXflBurlDiNlsPGE5f8IMKBdJwgMl2aOsBI4M4fX1iMoYSwpHNZukDllO2LRm6N+wMsyyDxT45BEvfcSkS5u5AXJ+Yi4ebPB3Z1ZzNS+suDO7pP2j6urTBg2+EbGl+ZOKzFkJ3n38HOE50aRtur9X+urTed7aitixeeZfry+/bSbY8FFgWFNXmfntrVny14I3XWFleky59YEPasrdLmwwoCHc+VGTSyhpCx0zXwbDQfaiFDRwsHYpz6VALG2BYWr8XEd0WuTSjt9ZFdIJu0NHoOyzMZWG7grlyEAc4hnt4uMkTndqMDG1Dh0GfHttArjyyhe0K4MgGP6jzcnfCQmAqP/KwoSFrH6/M7eksf8bzhax67rttjxofy8JuY+12++nDrlrPHEgC/qGWC464fMpK+VO8/wCUsy4+ZoJ7rwAAAABJRU5ErkJggg=="},"102":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAAAXNSR0IArs4c6QAAA3VJREFUWAntl9tLVFEUxr89KtLdy0soFGEUBYUESV4ihJ6jnoLoIkb4ks1YYiPdRDERLXPMQNLoTvjUQ6ZoEpQP1T8Q9RIkZAkqOOaYOmf3bfHIzHFmzplrEHNgOHvvtfdav/PtdfZZAySvpAJJBZIKhFJAhDLG01Z7V2bPLKKbMQ4T4h1/5e0O8css5j8BruqWWd4ZDEuJfB1QCHwmTKkZtE1fkKi7UtYIq2ITfpcE3ip7KJaEA3s0HCDYnkBQCnrWi4ZANn0sYcB1XXKt/Y68lFGJfm7/SQh4dQjfO6G3+faN7YQAK9hJD15pEq0T7ejJuoDeYNDM4wdGSN9+im8nHu3qx3Kd240+SJQu+8/3fMTWbDua5j7hC8eO8bcknE3gIl+6nlAccQVWsPOTeE3YQwYIP2ghcZSw1YRtM8xb1eUOxOeq65TrJ+YJCxwMGkHgIZU+O92J7bfPi69B5/kY4gJc0yM3eKbRzzjFPrECNoUNx1120RvQGGAwNcBYVEMKds6NATopMnUk0BIOrPIXU4UrXXIjNMJKFJrBMmebmbNOs3lGe8yOtctdcpPQMGgFlmnQFAmsgo+Jwgp2dpawQIFREWOfsI1Mg6vGcav9qIEdbTJDExjkF2q/WVAGa3BVietm80LZo0oJ5z2Zye/rkBVY5mx9tLDqQSJWWMH+/oM39LEvlCJLNoEbHQ5RbzrPwoSIvnSqnp33YJj+TWGp7DWXQ4SswCxwrkyJ6ByWsyhkibh3xUuQBmGv8DS4GcQc0XDYOcwS8VzRZgwEq7Z0CpsNtbGGVb7DSomaDpmzIDE86saOkhw0js74V1s6LN8MJ9OgeaUfw0ZYKTGnsfCWSGE6nBj5ARD69MgY/94AT9W44mIa1FDZlhgy+rkKC5hQZfpqHmV+0LQ9YZo4CXtLnxOPu+VjrcolCxa9+GiEoINnJbk482EceVZLRKOPcPqWXzr+vSkL5FgK5L7/iZ2JgFXxLSnMKiydVdgYtz1zGXqcKx+lpaI7UaC6WJZy2KbhiAZkMEeH+IT3d6/By4oKsaA7SeTdEjC33Z1uQ15rpfiWSLj/IpZpDjs6ZLHXi1NMh7R4PDGPxyme3a52u/huxb9pSmhePOfLtoWO43bRdRadl1sJYH6sSbzgNixacRbRHIEp+u+LaG1yUVKBpAJJBVYp8BeooBEsbiujTAAAAABJRU5ErkJggg=="},"19":function(e,t,n){"use strict";n.r(t);var a=n(0),s=n(107),i=n(115),o=n(116),r=n(118),l=n(2),c=n(105),u=n(106);console.log("env:","cst");var p="https://st1-nesweb.fscmu.com/nes-web-paper_plane",h={"getSubtaskList":p+"/wechat/quickSync/getSubtaskList","submitTaskSplit":p+"/wechat/quickSync/submitTaskSplit","getContactList":p+"/wechat/quickSync/getContactList"},f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(a,s){try{var i=t[a](s),o=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(o).then(function(e){step("next",e)},function(e){step("throw",e)});e(o)}("next")})}}var k,m,d=(k=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var e,t,n;return regeneratorRuntime.wrap(function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(c.a)();case 3:return e=a.sent,a.next=6,Object(u.a)({"url":h.smallAuth,"method":"POST","header":{"channel":"WECHAT","appId":"wx1b4d78bd4ae2e05c","content-type":"application/x-www-form-urlencoded"},"data":{"code":e.code}});case 6:if(200!==(t=a.sent).data.code){a.next=14;break}return n="ST-NESSESSIONID="+t.data.datas.sessionId,a.next=11,Object(s.d)({"key":"cookie","data":n});case 11:return a.abrupt("return",Promise.resolve());case 14:400===t.data.code?Object(r.b)({"title":"温馨提示","content":t.data.datas.errMsg,"showCancel":!1,"confirmText":"我知道了"}):Object(r.b)({"title":"温馨提示","content":"系统繁忙，请稍后再试","showCancel":!1,"confirmText":"我知道了"});case 15:return a.abrupt("return",Promise.reject(new Error));case 18:return a.prev=18,a.t0=a.catch(0),a.abrupt("return",Promise.reject(a.t0));case 21:case"end":return a.stop()}},_callee,void 0,[[0,18]])})),function auth(){return k.apply(this,arguments)}),g=0,b=(m=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(e){var t,n,a,i,o,l,c;return regeneratorRuntime.wrap(function _callee2$(p){for(;;)switch(p.prev=p.next){case 0:return t="",p.prev=1,p.next=4,Object(s.a)({"key":"cookie"});case 4:n=p.sent,t=n.data||"",p.next=11;break;case 8:p.prev=8,p.t0=p.catch(1),t="";case 11:return console.log(e),e.header=f({},e.header,{"cookie":t,"content-type":"application/x-www-form-urlencoded"}),a=e.autoLoading,i=void 0!==a&&a,o=e.autoToast,l=void 0===o||o,i&&(0===g&&Object(r.c)({"title":"加载中...","mask":!0,"icon":"loading","duration":15e3}),g+=1),c=function showError(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l&&Object(r.b)({"title":"温馨提示","content":e.datas.errMsg||"系统繁忙，请稍后再试","showCancel":!1,"confirmText":"我知道了"})},p.abrupt("return",Object(u.a)(e).then(function(e){i&&(g-=1,setTimeout(function(){g<=0&&Object(r.a)()},800));var t=e.statusCode;return 401===t?d().then(function(){return Promise.reject(t)},Promise.reject):200===t?200===parseInt(e.data.code,10)?Promise.resolve(e.data.datas):(c(e.data),Promise.resolve(e.data.datas)):(c(e.data),Promise.reject(e.data||e))},function(e){Object(r.a)(),c(e)}));case 17:case"end":return p.stop()}},_callee2,void 0,[[1,8]])})),function fetch(e){return m.apply(this,arguments)}),v=function(e){return b(e).then(function(e){return e},function(t){return 401===t?b(e):Promise.reject})},A=n(108),S=n(111),E=n(110),w=n(112),y=n(114),T=n(117),C=(n(44),{"taskId":"","taskTitle":"","taskDesc":"","creatorAvatar":"https://wx.qlogo.cn/mmopen/vi_32/JbYbZ1aiazZM8BuH5aMwyuCLGd63Uq18AiawgicdgLIHKh4AYvFCGPvva4swuPEaG5WML1RySfdAWLz3DzytgG1eg/132","expireTime":null,"executorInfo":[],"taskSplitList":[{"subtaskId":"0","subtaskTitle":"","subtaskDesc":"","expireTime":"","showDefault":!0,"onFocus":!1,"descOnFocus":!1,"executorInfo":[],"taskSplitList":[]},{"subtaskId":"1","subtaskTitle":"","subtaskDesc":"","expireTime":"","showDefault":!0,"onFocus":!1,"descOnFocus":!1,"executorInfo":[],"taskSplitList":[{"subtaskId":"2","subtaskTitle":"","subtaskDesc":"","expireTime":"","showDefault":!0,"onFocus":!1,"descOnFocus":!1,"executorInfo":[],"taskSplitList":[]}]}]}),L=n(109),x=(n(31),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}());var I=function(e){function TaskListB(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TaskListB);for(var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(TaskListB.__proto__||Object.getPrototypeOf(TaskListB)).call(this,e)),n=[],a=0;a<e.list.length;a++)n.push(!0);return t.state={"leftDist":11,"showSubTask":n},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(TaskListB,l["a"].Component),x(TaskListB,[{"key":"componentWillUpdate","value":function componentWillUpdate(e){var t=this.state.showSubTask,n=e.list.length-t.length;if(n>0){for(;n--;)t.push(!0);this.setState({"showSubTask":t})}}},{"key":"changeShowSubTask","value":function changeShowSubTask(e){var t=this.state.showSubTask;t[e]=!t[e],this.setState({"showSubTask":t})}},{"key":"render","value":function render(){var e=this,t=this.props,n=t.list,s=t.level,i=t.taskSplitActived,o=this.state,r=o.leftDist,l=o.showSubTask,c=["点击开始拆分任务","换行拆分同级任务","缩进拆分下级任务"];return a.i.createElement(A.a,null,n.map(function(t,n){return a.i.createElement(A.a,{"className":"task-item","style":"margin-left: "+(s?r:0)+"px","key":t.subtaskId},a.i.createElement(A.a,{"className":"\n                                        item-icon \n                                        "+(s>0?"item-icon--child":null)+"\n                                        "+(t.taskSplitList.length>0?"item-icon--haveChildren":null)+"\n                                        "+(t.onFocus?"item-icon--selected":null)+"\n                                        "+(t.showDefault&&0===t.subtaskTitle.length?"item-icon--default":null)+"\n                                    "}),a.i.createElement(A.a,{"className":"item-content"},a.i.createElement(A.a,{"className":"item-main"},a.i.createElement(L.a,{"className":"item-title","placeholder":c[Number(t.subtaskId)],"placeholderClass":"item-title--default","type":"text","value":t.subtaskTitle,"disabled":t.showDefault,"focus":t.onFocus,"onConfirm":e.props.handle.bind(e,"addSibling",t.subtaskId),"onFocus":e.props.focusCallback.bind(e,t.subtaskId),"onInput":e.props.handle.bind(e,"setTitle"),"onBlur":e.props.BlurCallback.bind(e,t.subtaskId),"onClick":!t.showDefault&&i?function(e){e.stopPropagation()}:function(){},"maxLength":20}),t.taskSplitList.length>0&&!t.showDefault&&a.i.createElement(E.a,{"className":"item-change","src":l[n]?"https://nanniwan01.oss-cn-shenzhen.aliyuncs.com/kuaitongbu/%E9%9A%90%E8%97%8F%E4%BB%BB%E5%8A%A1icon%402x.png":"https://nanniwan01.oss-cn-shenzhen.aliyuncs.com/kuaitongbu/%E5%B1%95%E5%BC%80%E4%BB%BB%E5%8A%A1icon%402x.png","onClick":e.changeShowSubTask.bind(e,n)})),(t.descOnFocus||t.subtaskDesc.length>0)&&a.i.createElement(S.a,{"id":"item-desc-"+t.subtaskId,"contenteditable":!0,"className":"item-desc "+(t.descOnFocus?null:"item-desc-default"),"onFocus":e.props.descFocusCallback.bind(e,t.subtaskId),"onBlur":e.props.handle.bind(e,"setDesc"),"onClick":function onClick(e){e.stopPropagation()}},t.subtaskDesc),t.expireTime&&a.i.createElement(S.a,{"className":"item-expireTime"},t.expireTimeStr),t.executorInfo&&t.executorInfo.length>0&&a.i.createElement(S.a,{"className":"item-executorInfo"},t.executorInfoStr),l[n]&&t.taskSplitList.length>0&&a.i.createElement(O,{"list":t.taskSplitList,"level":s+1,"handle":e.props.handle,"focusCallback":e.props.focusCallback,"BlurCallback":e.props.BlurCallback,"descFocusCallback":e.props.descFocusCallback,"taskSplitActived":e.props.taskSplitActived})))}))}}]),TaskListB}();I.defaultProps={"list":[]};var B=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var O=function(e){function TaskListA(e){!function TaskSplitA_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TaskListA);for(var t=function TaskSplitA_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(TaskListA.__proto__||Object.getPrototypeOf(TaskListA)).call(this,e)),n=[],a=0;a<e.list.length;a++)n.push(!0);return t.state={"leftDist":11,"showSubTask":n},t}return function TaskSplitA_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(TaskListA,l["a"].Component),B(TaskListA,[{"key":"componentWillUpdate","value":function componentWillUpdate(e){var t=this.state.showSubTask,n=e.list.length-t.length;if(n>0){for(;n--;)t.push(!0);this.setState({"showSubTask":t})}}},{"key":"changeShowSubTask","value":function changeShowSubTask(e){var t=this.state.showSubTask;t[e]=!t[e],this.setState({"showSubTask":t})}},{"key":"render","value":function render(){var e=this,t=this.props,n=t.list,s=t.level,i=t.taskSplitActived,o=this.state,r=o.leftDist,l=o.showSubTask,c=["点击开始拆分任务","换行拆分同级任务","缩进拆分下级任务"];return a.i.createElement(A.a,null,n.map(function(t,n){return a.i.createElement(A.a,{"className":"task-item","style":"margin-left: "+(s?r:0)+"px","key":t.subtaskId},a.i.createElement(A.a,{"className":"\n                                        item-icon \n                                        "+(s>0?"item-icon--child":null)+"\n                                        "+(t.taskSplitList.length>0?"item-icon--haveChildren":null)+"\n                                        "+(t.onFocus?"item-icon--selected":null)+"\n                                        "+(t.showDefault&&0===t.subtaskTitle.length?"item-icon--default":null)+"\n                                    "}),a.i.createElement(A.a,{"className":"item-content"},a.i.createElement(A.a,{"className":"item-main"},a.i.createElement(L.a,{"className":"item-title","placeholder":c[Number(t.subtaskId)],"placeholderClass":"item-title--default","type":"text","value":t.subtaskTitle,"disabled":t.showDefault,"focus":t.onFocus,"onConfirm":e.props.handle.bind(e,"addSibling"),"onFocus":e.props.focusCallback.bind(e,t.subtaskId),"onInput":e.props.handle.bind(e,"setTitle"),"onBlur":e.props.BlurCallback.bind(e,t.subtaskId),"onClick":!t.showDefault&&i?function(e){e.stopPropagation()}:function(){},"maxLength":20}),t.taskSplitList.length>0&&!t.showDefault&&a.i.createElement(E.a,{"className":"item-change","src":l[n]?"https://nanniwan01.oss-cn-shenzhen.aliyuncs.com/kuaitongbu/%E9%9A%90%E8%97%8F%E4%BB%BB%E5%8A%A1icon%402x.png":"https://nanniwan01.oss-cn-shenzhen.aliyuncs.com/kuaitongbu/%E5%B1%95%E5%BC%80%E4%BB%BB%E5%8A%A1icon%402x.png","onClick":e.changeShowSubTask.bind(e,n)})),(t.descOnFocus||t.subtaskDesc.length>0)&&a.i.createElement(S.a,{"id":"item-desc-"+t.subtaskId,"contenteditable":!0,"className":"item-desc "+(t.descOnFocus?null:"item-desc-default"),"onFocus":e.props.descFocusCallback.bind(e,t.subtaskId),"onBlur":e.props.handle.bind(e,"setDesc"),"onClick":function onClick(e){e.stopPropagation()}},t.subtaskDesc),t.expireTime&&a.i.createElement(S.a,{"className":"item-expireTime"},t.expireTimeStr),t.executorInfo&&t.executorInfo.length>0&&a.i.createElement(S.a,{"className":"item-executorInfo"},t.executorInfoStr),l[n]&&t.taskSplitList.length>0&&a.i.createElement(I,{"list":t.taskSplitList,"level":s+1,"handle":e.props.handle,"focusCallback":e.props.focusCallback,"BlurCallback":e.props.BlurCallback,"descFocusCallback":e.props.descFocusCallback,"taskSplitActived":e.props.taskSplitActived})))}))}}]),TaskListA}();O.defaultProps={"list":[]};n(38);var N=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var D=function(e){function TaskLookB(e){!function TaskLookB_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TaskLookB);var t=function TaskLookB_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(TaskLookB.__proto__||Object.getPrototypeOf(TaskLookB)).call(this,e));return t.state={"leftDist":11},t}return function TaskLookB_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(TaskLookB,l["a"].Component),N(TaskLookB,[{"key":"render","value":function render(){var e=this,t=this.props,s=t.list,i=t.level,o=this.state.leftDist;return a.i.createElement(A.a,null,s.map(function(t,s){return a.i.createElement(A.a,{"className":"task-item","style":"margin-left: "+(i?o:0)+"px","key":t.subtaskId},a.i.createElement(A.a,{"className":"\n                                        item-icon \n                                        "+(i>0?"item-icon--child":null)+"\n                                        "+(t.taskSplitList.length>0?"item-icon--haveChildren":null)+"\n                                    "}),a.i.createElement(A.a,{"className":"item-content"},a.i.createElement(A.a,{"className":"item-main"},a.i.createElement(S.a,{"className":"item-title","onClick":e.props.clickCallback.bind(e,t.subtaskId)},t.subtaskTitle),a.i.createElement(A.a,{"className":"item-info"},t.subtaskDesc&&a.i.createElement(E.a,{"className":"icon info-desc","src":n(39)}),t.expireTime&&a.i.createElement(E.a,{"className":"icon info-expireTime","src":n(40)}),t.executorInfo.length>0&&a.i.createElement(E.a,{"className":"icon info-executor","src":n(41)}))),t.taskSplitList.length>0&&a.i.createElement(P,{"list":t.taskSplitList,"level":i+1,"clickCallback":e.props.clickCallback})))}))}}]),TaskLookB}();D.defaultProps={"list":[]};var F=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var P=function(e){function TaskLookA(e){!function TaskLookA_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TaskLookA);var t=function TaskLookA_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(TaskLookA.__proto__||Object.getPrototypeOf(TaskLookA)).call(this,e));return t.state={"leftDist":11},t}return function TaskLookA_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(TaskLookA,l["a"].Component),F(TaskLookA,[{"key":"render","value":function render(){var e=this,t=this.props,s=t.list,i=t.level,o=this.state.leftDist;return a.i.createElement(A.a,null,s.map(function(t,s){return a.i.createElement(A.a,{"className":"task-item","style":"margin-left: "+(i?o:0)+"px","key":t.subtaskId},a.i.createElement(A.a,{"className":"\n                                        item-icon \n                                        "+(i>0?"item-icon--child":null)+"\n                                        "+(t.taskSplitList.length>0?"item-icon--haveChildren":null)+"\n                                    "}),a.i.createElement(A.a,{"className":"item-content"},a.i.createElement(A.a,{"className":"item-main"},a.i.createElement(S.a,{"className":"item-title","onClick":e.props.clickCallback.bind(e,t.subtaskId)},t.subtaskTitle),a.i.createElement(A.a,{"className":"item-info"},t.subtaskDesc&&a.i.createElement(E.a,{"className":"icon info-desc","src":n(39)}),t.expireTime&&a.i.createElement(E.a,{"className":"icon info-expireTime","src":n(40)}),t.executorInfo.length>0&&a.i.createElement(E.a,{"className":"icon info-executor","src":n(41)}))),t.taskSplitList.length>0&&a.i.createElement(D,{"list":t.taskSplitList,"level":i+1,"clickCallback":e.props.clickCallback})))}))}}]),TaskLookA}();P.defaultProps={"list":[]};n(87);var G=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var j=function(e){function Modal(e){!function Modal_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Modal);var t=function Modal_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Modal.__proto__||Object.getPrototypeOf(Modal)).call(this,e));return t.state={},t}return function Modal_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Modal,l["a"].Component),G(Modal,[{"key":"render","value":function render(){var e=this;return a.i.createElement(A.a,{"className":"confirm-modal","hidden":this.props.isHidden,"onTouchMove":function onTouchMove(e){return e.stopPropagation()}},a.i.createElement(A.a,{"className":"modal"},a.i.createElement(S.a,{"className":"modal-title"},this.props.title),a.i.createElement(S.a,{"className":"modal-content"},this.props.content),a.i.createElement(A.a,{"className":"btn-view"},a.i.createElement(w.a,{"className":"btn btn-cancel","onClick":function onClick(){return e.props.cancelCallback()}},this.props.cancelText),a.i.createElement(w.a,{"className":"btn btn-sure","onClick":function onClick(){return e.props.sureCallback()}},this.props.sureText))))}}]),Modal}(),Y=n(113),R=(n(91),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}());var M=function(e){function Confirm(){return function Confirm_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Confirm),function Confirm_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Confirm.__proto__||Object.getPrototypeOf(Confirm)).apply(this,arguments))}return function Confirm_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Confirm,l["a"].Component),R(Confirm,[{"key":"render","value":function render(){var e=this;return a.i.createElement(A.a,{"className":"confirm-view","hidden":this.props.isHidden,"onTouchMove":function onTouchMove(e){return e.stopPropagation()}},a.i.createElement(A.a,{"className":"confirm"},this.props.icon?a.i.createElement(E.a,{"className":"confirm-icon","src":this.props.icon}):null,a.i.createElement(S.a,{"className":"confirm-title"},this.props.title),a.i.createElement(S.a,{"className":"confirm-content"},this.props.content),a.i.createElement(A.a,{"className":"btn-view"},a.i.createElement(Y.a,{"onSubmit":function onSubmit(t){return e.props.saveFormIdCallback(t)},"reportSubmit":!0},this.props.share?a.i.createElement(w.a,{"className":"btn btn-sure","formType":"submit","openType":"share","onClick":function onClick(){return e.props.confirmCallback?e.props.confirmCallback():null}},this.props.confirmText):a.i.createElement(w.a,{"className":"btn btn-sure","formType":"submit","onClick":function onClick(){return e.props.confirmCallback?e.props.confirmCallback():null}},this.props.confirmText)))))}}]),Confirm}();M.defaultProps={"saveFormIdCallback":function saveFormIdCallback(e){},"icon":null};var J=M,W=(n(93),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}());var H=function(e){function FriendList(e){!function FriendList_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FriendList);var t=function FriendList_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(FriendList.__proto__||Object.getPrototypeOf(FriendList)).call(this,e));return t.state={"selectList":[]},t}return function FriendList_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(FriendList,l["a"].Component),W(FriendList,[{"key":"componentDidShow","value":function componentDidShow(){var e=new Array(this.props.friendList.length).fill(!1);this.setState({"selectList":e})}},{"key":"componentWillReceiveProps","value":function componentWillReceiveProps(e){this.setState({"selectList":e.defaultSelectList})}},{"key":"close","value":function close(){var e=new Array(this.props.friendList.length).fill(!1);this.setState({"selectList":e}),this.props.onCloseList()}},{"key":"selectFriend","value":function selectFriend(e){var t=this.state.selectList,n=e.currentTarget.dataset.index;t[n]=!t[n],this.setState({"selectList":t})}},{"key":"appointTask","value":function appointTask(){var e=this.state.selectList,t=[];for(var n in e)if(e[n]){var a=new Object;a.avatar=this.props.friendList[n].friendAvatar,a.executorId=this.props.friendList[n].friendId,a.nickname=this.props.friendList[n].friendNickname,t.push(a)}this.props.onConfirm(t)}},{"key":"render","value":function render(){var e=this,t=this.props,s=t.friendList,i=(t.ifShareToExec,t.ifShow),o=this.state.selectList;return a.i.createElement(A.a,{"className":"wrap"},a.i.createElement(A.a,{"className":i?"modal":""}),a.i.createElement(A.a,{"className":i?"Friend":"null","onClick":this.props.onCloseList.bind(this)},a.i.createElement(A.a,{"className":"content","onClick":function onClick(e){e.stopPropagation()}},a.i.createElement(A.a,{"className":"content-header"},a.i.createElement(S.a,{"className":"header-cancel","onClick":this.props.onCloseList.bind(this)},"取消"),a.i.createElement(S.a,{"className":"header-sure","onClick":this.appointTask.bind(this)},"确定")),s.length>0&&a.i.createElement(y.a,{"className":"friendList","scrollY":!0,"scrollWithAnimation":!0},s.map(function(t,s){return a.i.createElement(A.a,{"className":"listItem","key":s,"onClick":e.selectFriend.bind(e),"data-index":s},a.i.createElement(E.a,{"className":"avatar","src":t.friendAvatar}),a.i.createElement(S.a,{"key":s,"className":"nickname"},t.friendNickname),a.i.createElement(E.a,{"src":o[s]?n(97):n(98),"className":"selectBtn"}))})))))}}]),FriendList}();H.defaultProps={"friendList":[]};var U=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),q=function get(e,t,n){null===e&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var s=Object.getPrototypeOf(e);return null===s?void 0:get(s,t,n)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(n):void 0};function index_asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(a,s){try{var i=t[a](s),o=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(o).then(function(e){step("next",e)},function(e){step("throw",e)});e(o)}("next")})}}var Q=function(e){function Index(e){!function index_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Index);var t=function index_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Index.__proto__||Object.getPrototypeOf(Index)).call(this,e));t.config={"navigationBarTitleText":"拆分任务","backgroundColor":"#F4F8FC"};var n=navigator.userAgent,a=n.match(/ipad/i),s=n.match(/iphone OS/i),i=!1;(a||s)&&(i=!0);var o=t.getColumnsData(),r=new Date,l=[t.myIndexOf(o[0],{"val":r.getFullYear()}),t.myIndexOf(o[1],{"val":r.getMonth()+1}),t.myIndexOf(o[2],{"val":r.getDate()})];return t.state={"data":{"taskId":0,"taskTitle":"","taskDesc":"","expireTime":0,"creatorAvatar":"","executorInfo":[],"taskSplitList":[],"executorInfoStr":""},"prevData":{},"taskNumber":0,"newTaskNumber":0,"currentPath":[],"currentTaskId":0,"falseTaskId":0,"windowHeight":window.innerHeight,"showFunctionBar":!1,"showConfirmButton":!0,"isIos":i,"edited":!1,"showAll":"-webkit-line-clamp: 1","showButton":!1,"length":length,"showModal":!1,"showConfirm":!1,"userId":0,"taskSplitActived":!1,"submitting":!1,"tasks":[],"showReadCookie":!1,"saved":!1,"columnsData":o,"pickerData":l,"defaultColumnsData":JSON.parse(JSON.stringify(o)),"defaultPickerData":JSON.parse(JSON.stringify(l)),"contactList":[],"showFriendList":!1,"showFriendListComponent":!1,"selectList":[],"showEmptyConfirm":!1},window.onresize=function(e){var n=t.state,a=n.windowHeight,s=n.data,i=window.innerHeight;if(console.log(e,a,i),a-i>50)console.log("键盘弹出"),t.setState({"showConfirmButton":!1});else{console.log("键盘收起"),t.setState({"showConfirmButton":!0});var o=t.getTaskNumber(s.taskSplitList);if(console.log("现在的任务数量：",o),1===o&&0===s.taskSplitList[0].subtaskTitle.length)return s.taskSplitList=JSON.parse(JSON.stringify(C.taskSplitList)),void t.setState({"data":s,"newTaskNumber":0,"taskNumber":0})}},t}return function index_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Index,l["a"].Component),U(Index,[{"key":"componentDidShow","value":function(){var e=index_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var e,t,n;return regeneratorRuntime.wrap(function _callee$(a){for(;;)switch(a.prev=a.next){case 0:e=this.$router.params,t=e.taskId,n=e.userId,console.log("任务拆分页面参数",this.$router.params),this.getTaskSplit(t,n),this.getContact(n);case 4:case"end":return a.stop()}},_callee,this)}));return function componentDidShow(){return e.apply(this,arguments)}}()},{"key":"getColumnsData","value":function getColumnsData(){for(var e=[],t=new Date,n=t.getFullYear(),a=t.getMonth()+1,s=[],i=n-10;i<=n+10;i++){var o=new Object;o.val=i,o.str=i+"年",s.push(o)}e[0]=s;for(var r=[],l=1;l<=12;l++){var c=new Object;c.val=l,c.str=l+"月",r.push(c)}e[1]=r;var u=[],p=0;p=-1!==[1,3,5,7,8,10,12].indexOf(a)?31:-1!==[4,6,9,11].indexOf(a)?30:n%400==0||n%4==0&&n%100!=0?29:28;for(var h=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],f=1;f<=p;f++){var k=new Object;k.val=f,k.str=f+"日";var m=new Date(n+"/"+a+"/"+f),d=m.getDay();this.formatYMD(t)===this.formatYMD(m)?k.str=k.str+" 今天":k.str=k.str+" "+h[d],u.push(k)}return e[2]=u,e}},{"key":"myIndexOf","value":function myIndexOf(e,t){for(var n=0;n<e.length;n++)if(t.val===e[n].val)return n;return-1}},{"key":"myIndexOf_id","value":function myIndexOf_id(e,t){for(var n=0;n<e.length;n++)if(t.friendId===e[n].executorId)return n;return-1}},{"key":"formatYMD","value":function formatYMD(e){return e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate()}},{"key":"getTaskSplit","value":function(){var e=index_asyncToGenerator(regeneratorRuntime.mark(function _callee2(e,t){var n,a,i,o,r=this;return regeneratorRuntime.wrap(function _callee2$(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,v({"url":h.getSubtaskList,"data":{"taskId":e,"userId":t},"method":"GET"});case 2:n=l.sent,a=n,console.log("getTaskSplit 获取数据：",a),0===a.taskSplitList.length?(a.taskSplitList=JSON.parse(JSON.stringify(C.taskSplitList)),""!==(i=Object(s.b)("prevChange_taskId="+e))&&this.setState({"prevData":JSON.parse(i),"showReadCookie":!0})):this.setState({"edited":!0}),a=this.initialData(a),o=[],o=this.getTasks(a.taskSplitList,o),console.log("初始tasks",o),this.setState({"data":a,"userId":t,"tasks":o},function(){r.setTaskNumber(),r.checkRemarkToggle()});case 11:case"end":return l.stop()}},_callee2,this)}));return function getTaskSplit(t,n){return e.apply(this,arguments)}}()},{"key":"getContact","value":function(){var e=index_asyncToGenerator(regeneratorRuntime.mark(function _callee3(e){var t;return regeneratorRuntime.wrap(function _callee3$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v({"url":h.getContactList,"data":{"userId":e},"method":"GET"});case 2:t=n.sent,console.log("getContact",t),t.errMsg||this.setState({"contactList":t.contactList});case 5:case"end":return n.stop()}},_callee3,this)}));return function getContact(t){return e.apply(this,arguments)}}()},{"key":"updateTaskSplit","value":function(){var e=index_asyncToGenerator(regeneratorRuntime.mark(function _callee4(){var e,t,n,a;return regeneratorRuntime.wrap(function _callee4$(s){for(;;)switch(s.prev=s.next){case 0:return e=this.state,t=e.data,n=e.userId,s.next=3,v({"url":h.getSubtaskList,"data":{"taskId":t.taskId,"userId":n},"method":"GET"});case 3:a=s.sent,t=a,t=this.initialData(t),console.log("提交后更新数据",t),this.setState({"data":t});case 8:case"end":return s.stop()}},_callee4,this)}));return function updateTaskSplit(){return e.apply(this,arguments)}}()},{"key":"initialData","value":function initialData(e){e.taskTitle=decodeURIComponent(e.taskTitle),e.taskDesc=decodeURIComponent(e.taskDesc),this.initialList(e.taskSplitList);var t=e.executorInfo.length;return this.setState({"length":t}),e}},{"key":"initialList","value":function initialList(e){var t=this;e.forEach(function(e){if(e.subtaskTitle=decodeURIComponent(e.subtaskTitle),e.subtaskDesc=decodeURIComponent(e.subtaskDesc),e.expireTime){var n=new Date(e.expireTime),a=n.getHours(),s=n.getMinutes(),i=n.getSeconds(),o=function computedDateYMD(e){var t=new Date(e),n="";return n+=t.getFullYear(),n+="-",t.getMonth()+1<10&&(n+="0"),n+=t.getMonth()+1,n+="-",t.getDate()<10&&(n+="0"),n+=t.getDate()}(e.expireTime),r=!0;23===a&&59===s&&59===i&&(r=!1),r&&(o+=" "+function computedHM(e){var t=new Date(e),n="";return t.getHours()<10&&(n+="0"),n+=t.getHours(),n+=":",t.getMinutes()<10&&(n+="0"),n+=t.getMinutes()}(e.expireTime)),e.pickerNeedTime=r,e.expireTimeStr=o}if(e.executorInfo.length>0){var l,c=[];e.executorInfo.forEach(function(e){c.push("@"+e.nickname)}),l=c.join(" "),e.executorInfoStr=l}0!==e.taskSplitList.length&&t.initialList(e.taskSplitList)})}},{"key":"getTasks","value":function getTasks(e,t){var n=this;return e.forEach(function(e){e.showDefault||t.push(e.subtaskId),0!==e.taskSplitList.length&&n.getTasks(e.taskSplitList,t)}),t}},{"key":"showAll","value":function showAll(){var e=this.state.showAll;e="-webkit-line-clamp: 1"==e?"-webkit-line-clamp: ''":"-webkit-line-clamp: 1",this.setState({"showAll":e})}},{"key":"scrollToTaskSplit","value":function scrollToTaskSplit(){var e=document.getElementsByClassName("task-split")[0].offsetTop;console.log("scrollToTaskSplit",e,window),Object(i.a)({"scrollTop":e-15})}},{"key":"getElementWidth","value":function getElementWidth(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(o.a)();return new Promise(function(n){t.selectAll(e).fields({"size":!0},function(e){n(e)}).exec()})}},{"key":"checkRemarkToggle","value":function checkRemarkToggle(){var e=this,t=this.state.data,n=!1;this.getElementWidth("#target").then(function(a){(a[0].height>20||t.executorInfo.length>0)&&(n=!0),e.setState({"showButton":n})})}},{"key":"bindBlur","value":function bindBlur(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;console.log("bindBlur",e,t);var n=this.state.data;this.clearItemFocus(n.taskSplitList,e);var a=this.getTaskNumber(n.taskSplitList);if(console.log("现在的任务数量：",a),1===a&&0===n.taskSplitList[0].subtaskTitle.length)return n.taskSplitList=JSON.parse(JSON.stringify(C.taskSplitList)),void this.setState({"data":n,"newTaskNumber":0,"taskNumber":0});Object(s.d)({"key":"prevChange_taskId="+n.taskId,"data":JSON.stringify(n)})}},{"key":"bindFocus","value":function bindFocus(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;console.log("bindFocus",e,t);var n=this.state.data,a=this.findItem(n.taskSplitList,e);console.log("currentPath",a),this.setState({"currentPath":a,"currentTaskId":e,"showFunctionBar":!0})}},{"key":"bindDescFocus","value":function bindDescFocus(e,t){t.stopPropagation(),console.log("bindDescFocus",e,t);var n=this.state.data,a=this.findDesc(n.taskSplitList,e);console.log("currentDescPath",a),this.setState({"currentPath":a,"currentTaskId":e,"showFunctionBar":!0})}},{"key":"bindDescBlur","value":function bindDescBlur(){var e=this;console.log("bindDescBlur 默认展示一行");var t=this.state,n=t.data,a=n;t.currentPath.concat().forEach(function(e){a=a.taskSplitList[e]}),a.descOnFocus=!1,this.setState({"data":n},function(){console.log(a.descOnFocus,a.subtaskDesc.length),e.setState({"test":""+a.descOnFocus,"test1":a.subtaskDesc.length})})}},{"key":"activeTaskSplit","value":function activeTaskSplit(e){var t=this;e&&(e.stopPropagation(),console.log("停止冒泡")),console.log("activeTaskSplit");var n=this.state,a=n.data,s=n.taskSplitActived,i=n.newTaskNumber;s||(console.log("activeTaskSplit 滚动界面"),this.setState({"taskSplitActived":!0},function(){t.scrollToTaskSplit()}));var o=this.getTaskNumber(a.taskSplitList);if(console.log("激活拆分任务框任务数量",o),0===o){console.log("任务数量为0"),a.taskSplitList=[];var r=this.getNewTask("newTask"+i,"","");a.taskSplitList.push(r),this.setState({"data":a,"newTaskNumber":1,"taskNumber":1},function(){t.bindFocus(r.taskId)})}}},{"key":"hideFunctionBar","value":function hideFunctionBar(e){var t=this;e&&(e.stopPropagation(),console.log("hideFunctionBar 停止冒泡")),console.log("hideFunctionBar"),this.state.taskSplitActived?(console.log("隐藏功能栏"),this.setState({"showFunctionBar":!1})):(console.log("activeTaskSplit 滚动界面"),this.setState({"taskSplitActived":!0},function(){t.scrollToTaskSplit()}))}},{"key":"clearItemFocus","value":function clearItemFocus(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=0;a<e.length;a++){var s=e[a];if(n.push(a),s.subtaskId===t)return s.onFocus=!1,n;if(0===s.taskSplitList.length)n.pop();else{var i=n.length;if(this.clearItemFocus(s.taskSplitList,t,n),n.length>i)return n;n.pop()}}}},{"key":"findItem","value":function findItem(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=0;a<e.length;a++){var s=e[a];if(n.push(a),s.subtaskId===t)return s.onFocus=!0,n;if(0===s.taskSplitList.length)n.pop();else{var i=n.length;if(this.findItem(s.taskSplitList,t,n),n.length>i)return n;n.pop()}}}},{"key":"findDesc","value":function findDesc(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=0;a<e.length;a++){var s=e[a];if(n.push(a),s.subtaskId===t)return s.descOnFocus=!0,n;if(0===s.taskSplitList.length)n.pop();else{var i=n.length;if(this.findDesc(s.taskSplitList,t,n),n.length>i)return n;n.pop()}}}},{"key":"getNewTask","value":function getNewTask(e,t,n){var a=new Object;return a.subtaskId=e,a.subtaskTitle=t,a.subtaskDesc=n,a.expireTime=null,a.executorInfo=[],a.taskSplitList=[],a.onFocus=!0,a.descOnFocus=!1,a.newTask=!0,a}},{"key":"clearAllFocus","value":function clearAllFocus(){var e=this;(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.data).taskSplitList.forEach(function(t){t.onFocus=!1,t.taskSplitList.length>0&&e.clearAllFocus(t)})}},{"key":"handle","value":function handle(e,t){"addSibling"===e?this.addSibling():"setTitle"===e?this.setTitle(t):"setDesc"===e&&this.setDesc(t)}},{"key":"addSibling","value":function addSibling(){var e=this;this.clearAllFocus();var t=this.state,n=t.data,a=t.newTaskNumber,s=t.currentPath,i=n.taskSplitList,o=void 0;for(o=0;o<s.length-1;o++){i=i[s[o]].taskSplitList}var r,l=s[o];r=this.getNewTask("newTask"+a,"",""),this.setState({"newTaskNumber":a+1},function(){e.setTaskNumber()}),i.splice(l+1,0,r),this.setState({"data":n},function(){e.bindFocus(r.subtaskId)})}},{"key":"setTitle","value":function setTitle(e){var t=this.state,n=t.data,a=t.currentPath,s=n.taskSplitList,i=void 0;for(i=0;i<a.length-1;i++){s=s[a[i]].taskSplitList}var o=a[i];console.log("setTitle",e),s[o].subtaskTitle=e.detail.value,this.setState({"data":n})}},{"key":"setDesc","value":function setDesc(e){var t=this;console.log("secDesc",e);var n=this.state,a=n.data,s=a;n.currentPath.forEach(function(e){s=s.taskSplitList[e]});var i=0===s.subtaskDesc.length;s.subtaskDesc=e.target.innerText,this.setState({"data":a,"test2":"'"+e.target.innerText.trim().length+"'","test3":""+Number(e.target.innerText)},function(){i&&($("#item-desc-"+s.subtaskId)[0].innerText=s.subtaskDesc),t.bindDescBlur()})}},{"key":"deleteTask","value":function deleteTask(){var e=this;console.log("deleteTask");var t=this.state,n=t.data,a=t.currentPath,s=n.taskSplitList,i=void 0;for(i=0;i<a.length-1;i++){s=s[a[i]].taskSplitList}var o=a[i];if(s.splice(o,1),o>0)s[o-1].onFocus=!0;else if(a.length>1){for(s=n.taskSplitList,i=0;i<a.length-2;i++){s=s[a[i]].taskSplitList}s[a[i]].onFocus=!0}0===this.getTaskNumber(n.taskSplitList)&&(n.taskSplitList=JSON.parse(JSON.stringify(C.taskSplitList))),this.setState({"data":n},function(){e.setTaskNumber()})}},{"key":"increaseLevel","value":function increaseLevel(){var e=this,t=this.state,n=t.data,a=t.currentPath;if(1!==a.length){this.clearAllFocus();var s=a,i=n.taskSplitList,o=void 0;for(o=0;o<s.length-1;o++){i=i[s[o]].taskSplitList}var l=s[o],c=n.taskSplitList,u=void 0;for(u=0;u<s.length-2;u++){c=c[s[u]].taskSplitList}var p=s[u],h=i.splice(l,1)[0];h.onFocus=!0,c.splice(p+1,0,h),this.setState({"data":n},function(){e.bindFocus(h.subtaskId)})}else Object(r.c)({"title":"该任务已经是1级任务啦~","icon":"none","duration":800,"mask":!0})}},{"key":"decreaseLevel","value":function decreaseLevel(){var e=this,t=this.state,n=t.data,a=t.currentPath;if(6!==a.length)if(0!==a[a.length-1]){var s=a,i=n.taskSplitList,o=void 0;for(o=0;o<s.length-1;o++){i=i[s[o]].taskSplitList}var l=s[o],c=i.splice(l,1)[0];c.onFocus=!0,(i=i[l-1].taskSplitList).push(c),this.setState({"data":n},function(){e.bindFocus(c.subtaskId)})}else Object(r.c)({"title":"无法继续缩进啦~","icon":"none","duration":800,"mask":!0});else Object(r.c)({"title":"最多创建6级子任务","icon":"none","duration":800,"mask":!0})}},{"key":"openDesc","value":function openDesc(){console.log("openDesc");var e=this.state,t=e.data,n=e.currentPath,a=e.currentTaskId,s=t;n.concat().forEach(function(e){s=s.taskSplitList[e]}),s.descOnFocus=!0,this.setState({"data":t},function(){var e=$("#item-desc-"+a)[0];e.focus(),document.all?(e.range=document.selection.createRange(),e.range.select(),e.range.moveStart("character",-1)):(e.range=window.getSelection().getRangeAt(0),e.range.setStart(e.range.startContainer,e.range.startContainer.length))})}},{"key":"setExpireTime","value":function setExpireTime(){$(".weui-picker__action")[0].innerText="清除",$(".weui-picker__action")[1].innerText="确认",$(".weui-picker__action")[0].onclick=this.clearExpireTime.bind(this),$(".timePicker-content")[0].click()}},{"key":"pickerChange","value":function pickerChange(e){console.log("pickerChange",e);var t=this.state,n=t.data,a=t.currentPath,s=t.columnsData,i=t.defaultColumnsData,o=t.defaultPickerData,r=s[0][e.detail.value[0]].val,l=s[1][e.detail.value[1]].val,c=s[2][e.detail.value[2]].val,u=r+"-"+l+"-"+c+" 23:59:59",p=r+"-"+l+"-"+c,h=n;a.forEach(function(e){h=h.taskSplitList[e]}),h.expireTime=u,h.expireTimeStr=p,this.setState({"data":n,"columnsData":JSON.parse(JSON.stringify(i)),"pickerData":JSON.parse(JSON.stringify(o))})}},{"key":"pickerColumnChange","value":function pickerColumnChange(e){var t=this;console.log("pickerColumnChange",e);var n=this.state,a=n.columnsData,s=n.pickerData,i=0===e.detail.column,o=1===e.detail.column;if(i?(s[0]=e.detail.value,s[1]=0):o&&(s[1]=e.detail.value),i||o){var r=a[0][s[0]].val,l=a[1][s[1]].val,c=[],u=0;u=-1!==[1,3,5,7,8,10,12].indexOf(l)?31:-1!==[4,6,9,11].indexOf(l)?30:r%400==0||r%4==0&&r%100!=0?29:28;for(var p=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],h=1;h<=u;h++){var f=new Object;f.val=h,f.str=h+"日";var k=new Date(r+"/"+l+"/"+h),m=new Date,d=k.getDay();this.formatYMD(m)===this.formatYMD(k)?f.str=f.str+" 今天":f.str=f.str+" "+p[d],c.push(f)}a[2]=c}this.setState({"columnsData":a},function(){t.setState({"pickerData":s})})}},{"key":"clearExpireTime","value":function clearExpireTime(){console.log("清空时间");var e=this.state,t=e.data,n=t;e.currentPath.forEach(function(e){n=n.taskSplitList[e]}),n.expireTime=null,this.setState({"data":t})}},{"key":"openFriendList","value":function openFriendList(){var e=this,t=this.state,n=t.data,a=t.currentPath,s=t.contactList;if(s.length>0){var i=n;a.concat().forEach(function(e){i=i.taskSplitList[e]});var o=[];s.forEach(function(t){-1!==e.myIndexOf_id(i.executorInfo,t)?o.push(!0):o.push(!1)}),this.setState({"showFriendList":!0,"showFriendListComponent":!0},function(){e.setState({"selectList":o})})}else this.setState({"showEmptyConfirm":!0})}},{"key":"appointTask","value":function appointTask(e){var t=this;this.setState({"showFriendList":!1}),setTimeout(function(){t.setState({"showFriendListComponent":!1})},800);var n=this.state,a=n.data,s=a;if(n.currentPath.concat().forEach(function(e){s=s.taskSplitList[e]}),s.executorInfo=e,s.executorInfo.length>0){var i,o=[];s.executorInfo.forEach(function(e){o.push("@"+e.nickname)}),i=o.join(" "),s.executorInfoStr=i}this.setState({"data":a})}},{"key":"closeEmptyConfirm","value":function closeEmptyConfirm(){this.setState({"showEmptyConfirm":!1})}},{"key":"closeList","value":function closeList(){var e=this;this.setState({"showFriendList":!1}),setTimeout(function(){e.setState({"showFriendListComponent":!1})},800)}},{"key":"shiftUp","value":function shiftUp(){var e=this,t=this.state,n=t.data,a=t.currentPath;if(1!==a.length||0!==a[0]){var s=a,i=n.taskSplitList,o=void 0;for(o=0;o<s.length-1;o++){i=i[s[o]].taskSplitList}var r=s[o],l=i.splice(r,1)[0];if(r>0){var c=i[r-1];if(0===c.taskSplitList.length)i.splice(r-1,0,l);else{for(var u=c;;){var p=u.taskSplitList[u.taskSplitList.length-1];if(0===p.taskSplitList.length)break;u=p}var h=u.taskSplitList.length-1;u.taskSplitList.splice(h,0,l)}}else{var f=n.taskSplitList,k=void 0;for(k=0;k<s.length-2;k++){f=f[s[k]].taskSplitList}var m=s[k];f.splice(m,0,l)}this.setState({"data":n},function(){e.bindFocus(l.subtaskId)})}}},{"key":"shiftDown","value":function shiftDown(){var e=this,t=this.state,n=t.data,a=t.currentPath;if(1!==a.length||a[0]!==n.taskSplitList.length-1){var s=a,i=n.taskSplitList,o=void 0;for(o=0;o<s.length-1;o++){i=i[s[o]].taskSplitList}var r=s[o],l=i.splice(r,1)[0];if(r!==i.length){var c=i[r];0===c.taskSplitList.length?i.splice(r+1,0,l):c.taskSplitList.unshift(l)}else{var u=JSON.parse(JSON.stringify(a));for(u.pop();u.length>0;){for(var p=n,h=0;h<u.length-1;h++)p=p.taskSplitList[u[h]];if(u[u.length-1]!==p.taskSplitList.length-1)break;u.pop()}for(var f=n,k=0;k<u.length-1;k++)f=f.taskSplitList[u[k]];var m=u[u.length-1]+2;f.taskSplitList.splice(m,0,l)}this.setState({"data":n},function(){e.bindFocus(l.subtaskId)})}}},{"key":"openModal","value":function openModal(){var e=this.state,t=e.data,n=e.currentPath,a=t.taskSplitList,s=void 0;for(s=0;s<n.length-1;s++){a=a[n[s]].taskSplitList}var i=n[s];a[i].taskSplitList.length>0&&!a[i].taskSplitList[0].showDefault?this.setState({"showModal":!0}):this.deleteTask()}},{"key":"sureDelete","value":function sureDelete(){this.deleteTask(),this.setState({"showModal":!1})}},{"key":"cancelDelete","value":function cancelDelete(){this.setState({"showModal":!1})}},{"key":"checkTaskSplit","value":function checkTaskSplit(){var e=this.state.data;if(this.checkTaskTitle(e.taskSplitList)){var t=this.getTaskNumber(e.taskSplitList);console.log("getTaskNumber",t),0!==t&&this.submitTaskSplit()}}},{"key":"submitTaskSplit","value":function(){var e=index_asyncToGenerator(regeneratorRuntime.mark(function _callee5(){var e,t,n,a,i,o=this;return regeneratorRuntime.wrap(function _callee5$(l){for(;;)switch(l.prev=l.next){case 0:return e=this.state,t=e.data,n=e.userId,(a=new Object).userId=n,a.taskId=t.taskId,a.taskSplitList=new Array,this.transformData(t.taskSplitList,a.taskSplitList),a.taskSplitList=JSON.stringify(a.taskSplitList),a.deleteTasks=JSON.stringify(this.getDeleteTasks()),console.log("submitTaskSplit 提交的数据:",a),this.setState({"submitting":!0}),l.next=12,v({"url":h.submitTaskSplit,"data":a,"method":"POST"});case 12:i=l.sent,this.setState({"submitting":!1}),i.errMsg?Object(r.c)({"title":"保存失败","icon":"none","duration":800,"mask":!0}):(Object(r.c)({"title":"保存成功","icon":"none","duration":800,"mask":!0}),setTimeout(function(){Object(s.c)({"key":"prevChange_taskId="+t.taskId}),o.updateTaskSplit(),o.setState({"edited":!0,"taskSplitActived":!1,"saved":!0,"newTaskNumber":0})},800));case 15:case"end":return l.stop()}},_callee5,this)}));return function submitTaskSplit(){return e.apply(this,arguments)}}()},{"key":"getDeleteTasks","value":function getDeleteTasks(){var e=this.state,t=e.tasks,n=e.data,a=[];a=this.getTasks(n.taskSplitList,a);var s=[];return t.forEach(function(e){-1===a.indexOf(e)&&s.push(e)}),s}},{"key":"transformData","value":function transformData(e,t){for(var n=this,a=function _loop(a){var s=e[a];t[a]=new Object;var i=t[a];s.newTask?i.taskId=0:i.taskId=s.subtaskId,i.subtaskTitle=encodeURIComponent(s.subtaskTitle),i.subtaskDesc=encodeURIComponent(s.subtaskDesc),i.expireTime=s.expireTime,i.executorIdList=[],s.executorInfo.map(function(e){i.executorIdList.push(e.executorId)}),i.taskSplitList=new Array,0!==s.taskSplitList.length&&n.transformData(s.taskSplitList,i.taskSplitList)},s=0;s<e.length;s++)a(s)}},{"key":"setTaskNumber","value":function setTaskNumber(){var e=this.state.data,t=this.getTaskNumber(e.taskSplitList);this.setState({"taskNumber":t})}},{"key":"getTaskNumber","value":function getTaskNumber(e){for(var t=0,n=0;n<e.length;n++){var a=e[n];0===a.taskSplitList.length?a.showDefault||(t+=1):(t+=this.getTaskNumber(a.taskSplitList),a.showDefault||(t+=1))}return t}},{"key":"checkTaskTitle","value":function checkTaskTitle(e){for(var t=0;t<e.length;t++){var n=e[t];if(0===n.subtaskTitle.length&&!n.showDefault)return this.setState({"falseTaskId":n.subtaskId,"showConfirm":!0}),!1;if(0!==n.taskSplitList.length&&!this.checkTaskTitle(n.taskSplitList))return!1}return!0}},{"key":"confirm","value":function confirm(){var e=this,t=this.state.falseTaskId;this.setState({"showConfirm":!1},function(){e.bindFocus(t)})}},{"key":"jumpToDetail","value":function jumpToDetail(e){console.log("跳转详情页",e),wx.miniProgram.navigateTo({"url":"/pages/taskDetail/taskDetail?taskId="+e})}},{"key":"editTaskSplit","value":function editTaskSplit(){var e=this,t=this.state.data;this.setState({"edited":!1,"saved":!1},function(){var n=Object(s.b)("prevChange_taskId="+t.taskId);console.log("prevChange",n),""!==n&&e.setState({"prevData":JSON.parse(n),"showReadCookie":!0})})}},{"key":"readCookie","value":function readCookie(){var e=this,t=this.state.prevData,n=this.getNewTaskNumber(t.taskSplitList);console.log("newTaskNumber",n),this.setState({"data":t,"showReadCookie":!1,"newTaskNumber":n},function(){e.setTaskNumber()})}},{"key":"getNewTaskNumber","value":function getNewTaskNumber(e){var t=this,n=0;return e.forEach(function(e){e.newTask&&n++,0!==e.taskSplitList.length&&(n+=t.getNewTaskNumber(e.taskSplitList))}),n}},{"key":"deleteCookie","value":function deleteCookie(){var e=this.state.data;Object(s.c)({"key":"prevChange_taskId="+e.taskId}),this.setState({"showReadCookie":!1})}},{"key":"slideFunctionBar","value":function slideFunctionBar(){var e=setInterval(function(){$(".functionBar-scrollContent")[0].scrollLeft+=5},10);setTimeout(function(){clearInterval(e)},200)}},{"key":"render","value":function render(){var e=this,t=this.state,s=t.data,i=t.taskNumber,o=t.showButton,r=t.showAll,l=t.length,c=t.showModal,u=t.showConfirm,p=t.windowHeight,h=t.showFunctionBar,f=t.showConfirmButton,k=t.isIos,m=t.edited,d=t.submitting,g=t.showReadCookie,b=t.taskSplitActived,v=t.columnsData,C=t.pickerData,L=t.contactList,x=t.showFriendList,I=t.showFriendListComponent,B=t.selectList,N=t.showEmptyConfirm,D="-webkit-line-clamp: ''";return a.i.createElement(A.a,{"className":"index"},a.i.createElement(A.a,{"className":"taskDetail"},a.i.createElement(A.a,{"className":"title","style":"line-height: 53rpx;"},s.taskTitle),a.i.createElement(A.a,{"className":"taskContent","style":r+"; -webkit-box-orient: vertical !important;"},a.i.createElement(S.a,{"id":"target"},s.taskDesc)),(r===D||0===s.taskDesc.length)&&a.i.createElement(A.a,{"className":"taskInfo"},null!=s.expireTime&&a.i.createElement(A.a,{"className":"expireTime"},a.i.createElement(S.a,null,function computedDay(e){var t=new Date(e);return t.getMonth()+1+"月"+t.getDate()+"日"}(s.expireTime))),a.i.createElement(A.a,{"className":"taskAvatar"},a.i.createElement(A.a,{"className":"avatar","onClick":function onClick(){return e.setState({"showExecutorList":!0})}},a.i.createElement(E.a,{"src":s.creatorAvatar,"className":"avatarItem","style":"margin-right: 0"}),a.i.createElement(E.a,{"src":n(99),"className":"triangle"}),s.executorInfo.map(function(e,t){return t<4&&a.i.createElement(E.a,{"src":e.avatar,"key":"{{index}}","className":"avatarItem"})}),0==l&&a.i.createElement(E.a,{"src":n(100),"key":"{{index}}","className":"avatarItem"}),l>4&&a.i.createElement(E.a,{"src":n(101),"key":"{{index}}","className":"avatarItem"})))),o&&"-webkit-line-clamp: 1"==r&&a.i.createElement(w.a,{"className":"showAll","onClick":this.showAll.bind(this),"data-index":"{{index}}","style":"bottom: 5px"}),o&&r==D&&a.i.createElement(w.a,{"className":"showAll","onClick":this.showAll.bind(this),"data-index":"{{index}}","style":"transform:rotate(180deg);"})),m?a.i.createElement(A.a,{"className":"task-look","style":"height: "+p+"px"},a.i.createElement(A.a,{"className":"look-title"},a.i.createElement(S.a,{"className":"title-text"},"拆分任务"),a.i.createElement(E.a,{"className":"title-split","onClick":this.editTaskSplit.bind(this),"src":n(102)})),a.i.createElement(A.a,{"className":"look-list"},a.i.createElement(P,{"list":s.taskSplitList,"level":0,"clickCallback":function clickCallback(t){return e.jumpToDetail(t)}}))):a.i.createElement(A.a,{"className":"task-split","style":"height: "+p+"px"},a.i.createElement(A.a,{"className":"split-list","onClick":0===i?this.activeTaskSplit.bind(this):this.hideFunctionBar.bind(this)},a.i.createElement(S.a,null,this.state.test,",",this.state.test3,",",this.state.test1,",",this.state.test2),a.i.createElement(O,{"list":s.taskSplitList,"level":0,"handle":function handle(t,n){return e.handle(t,n)},"focusCallback":function focusCallback(t,n){return e.bindFocus(t,n)},"BlurCallback":function BlurCallback(t,n){return e.bindBlur(t,n)},"descFocusCallback":function descFocusCallback(t,n){return e.bindDescFocus(t,n)},"taskSplitActived":b})),f&&a.i.createElement(w.a,{"className":"\n                                        btn \n                                        split-submit\n                                        "+(0===i||d?"split-submit--default":"")+"\n                                    ","disabled":!(0!==i&&!d),"onClick":this.checkTaskSplit.bind(this)},"完成")),!m&&h&&a.i.createElement(A.a,{"className":"functionBar","style":k?"top: 0px":"bottom: 0px"},a.i.createElement(y.a,{"className":"functionBar-scrollContent","scrollX":!0,"scrollWithAnimation":!0},a.i.createElement(A.a,{"className":"functionBar-list"},a.i.createElement(A.a,{"className":"functionBar-item"},a.i.createElement(E.a,{"className":"img","onClick":this.decreaseLevel.bind(this),"src":"https://nanniwan01.oss-cn-shenzhen.aliyuncs.com/kuaitongbu/%E5%B7%A5%E5%85%B7%E6%A0%8F/%E8%AE%BE%E4%B8%BA%E5%AD%90%E4%BB%BB%E5%8A%A1icon%402x.png"})),a.i.createElement(A.a,{"className":"functionBar-item"},a.i.createElement(E.a,{"className":"img","onClick":this.increaseLevel.bind(this),"src":"https://nanniwan01.oss-cn-shenzhen.aliyuncs.com/kuaitongbu/%E5%B7%A5%E5%85%B7%E6%A0%8F/%E8%AE%BE%E4%B8%BA%E7%88%B6%E4%BB%BB%E5%8A%A1icon%402x.png"})),a.i.createElement(A.a,{"className":"functionBar-item"},a.i.createElement(E.a,{"className":"img","onClick":this.openDesc.bind(this),"src":"https://nanniwan01.oss-cn-shenzhen.aliyuncs.com/kuaitongbu/%E5%B7%A5%E5%85%B7%E6%A0%8F/%E6%B7%BB%E5%8A%A0%E6%8F%8F%E8%BF%B0icon%402x.png"})),a.i.createElement(A.a,{"className":"functionBar-item"},a.i.createElement(E.a,{"className":"img","onClick":this.setExpireTime.bind(this),"src":"https://nanniwan01.oss-cn-shenzhen.aliyuncs.com/kuaitongbu/%E5%B7%A5%E5%85%B7%E6%A0%8F/%E9%80%89%E6%8B%A9%E6%97%A5%E6%9C%9Ficon%402x.png"})),a.i.createElement(A.a,{"className":"functionBar-item"},a.i.createElement(E.a,{"className":"img","onClick":this.openFriendList.bind(this),"src":"https://nanniwan01.oss-cn-shenzhen.aliyuncs.com/kuaitongbu/%E5%B7%A5%E5%85%B7%E6%A0%8F/%E6%B7%BB%E5%8A%A0%E6%89%A7%E8%A1%8C%E4%BA%BAicon%402x.png"})),a.i.createElement(A.a,{"className":"functionBar-item"},a.i.createElement(E.a,{"className":"img","onClick":this.shiftUp.bind(this),"src":"https://nanniwan01.oss-cn-shenzhen.aliyuncs.com/kuaitongbu/%E5%B7%A5%E5%85%B7%E6%A0%8F/%E4%B8%8A%E7%A7%BBicon%402x.png"})),a.i.createElement(A.a,{"className":"functionBar-item"},a.i.createElement(E.a,{"className":"img","onClick":this.shiftDown.bind(this),"src":"https://nanniwan01.oss-cn-shenzhen.aliyuncs.com/kuaitongbu/%E5%B7%A5%E5%85%B7%E6%A0%8F/%E4%B8%8B%E7%A7%BBicon%402x.png"})),a.i.createElement(A.a,{"className":"functionBar-item"},a.i.createElement(E.a,{"className":"img","onClick":this.openModal.bind(this),"src":"https://nanniwan01.oss-cn-shenzhen.aliyuncs.com/kuaitongbu/%E5%B7%A5%E5%85%B7%E6%A0%8F/%E5%88%A0%E9%99%A4icon%402x.png"})))),a.i.createElement(A.a,{"className":"functionBar-icon","onClick":this.slideFunctionBar.bind(this)},a.i.createElement(A.a,{"className":"icon"}))),!m&&I&&L.length>0&&a.i.createElement(H,{"friendList":L,"ifShow":x,"onConfirm":function onConfirm(t){return e.appointTask(t)},"onCloseList":this.closeList.bind(this),"ifShareToExec":!1,"defaultSelectList":B}),a.i.createElement(T.a,{"className":"timePicker","mode":"multiSelector","range":v,"rangeKey":"str","value":C,"onChange":this.pickerChange.bind(this),"onColumnChange":this.pickerColumnChange.bind(this)},a.i.createElement(A.a,{"className":"timePicker-content"})),a.i.createElement(j,{"isHidden":!c,"title":"是否删除任务","content":"删除该任务，包括该任务的所有子任务","sureText":"确定","cancelText":"取消","cancelCallback":function cancelCallback(){return e.cancelDelete()},"sureCallback":function sureCallback(){return e.sureDelete()}}),a.i.createElement(j,{"isHidden":!g,"title":"有内容未提交","content":"上次有未提交内容，是否恢复？","sureText":"确定","cancelText":"取消","cancelCallback":function cancelCallback(){return e.deleteCookie()},"sureCallback":function sureCallback(){return e.readCookie()}}),a.i.createElement(J,{"isHidden":!u,"title":"有任务标题未填写","content":"必须填写任务标题才能创建子任务，请填写任务标题，或删除该子任务。","confirmText":"确定","confirmCallback":function confirmCallback(){return e.confirm()},"share":!1}),a.i.createElement(J,{"isHidden":!N,"title":"温馨提示","content":"暂无联系人，请到任务详情页进行指派或知会","confirmText":"好的，我知道了","confirmCallback":function confirmCallback(){return e.closeEmptyConfirm()},"share":!1}))}},{"key":"componentDidMount","value":function componentDidMount(){q(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidMount",this)&&q(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidMount",this).call(this)}},{"key":"componentDidHide","value":function componentDidHide(){q(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidHide",this)&&q(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidHide",this).call(this)}}]),Index}();t.default=Q},"31":function(e,t,n){},"38":function(e,t,n){},"39":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAAEy1B8wAAAAAXNSR0IArs4c6QAAAJ9QTFRFAAAA////////qqqqv7+/mZmZqqqqkpKSn5+fmZmZi4uLiYmJiIiIhYWFg4ODh4eHgoKCgoKChISEgYGBgYGBgoKCgYGBgoKCgICAgYGBgICAgYGBgICAgYGBgICAgICAgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgICAgICAgICAgYGBgYGBgICAgICAgYGBgICAW62nvgAAADR0Uk5TAAECAwQFBgcICgsNDxkhJDM9Pnd5ent+g4iNkpeYm52goqSorLCytLi8vsDDx8nm7Pn9/qeaM/YAAADfSURBVCjPrVHJFoIwDIzgrqi1ivuuuFvB+f9vk63QWp5ezCHzJkOTSSAywk8RceZZHUrWI66VxzHW5zFvR0y+kBhE4DAiF2msiCylZxXrfEQTU6KHpM9BOgn6YIU6IkyebC2YafQlRaJu+Gm+207rdIBq6oSSsvcViim6Q3Vh46fHAiocjTI/4zw6GBPStJdUmZdVsiOm0X/53DG2tjdYhCBgSpU9sLWjwcZ/rR2BpZW4+hAbZ2AWomUZYusGTPJHmngBRnJPQ+z08iOg0NBfRA+8SOPJcd0ABREM6Xu8AQAeJ4B0Xs/SAAAAAElFTkSuQmCC"},"40":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAAEy1B8wAAAAAXNSR0IArs4c6QAAAHtQTFRFAAAA////v7+/qqqq////h4eHhoaGiYmJhoaGg4ODgoKCgoKCg4OD////goKCgoKC////gICAgICAgYGBgYGBgICAgYGBgYGBgICAgYGBgYGB/f39gICAgYGBgYGBgICAgYGBgYGBgICAgYGBgICApKSkpaWlv7+/////rOM0PAAAACR0Uk5TAAEEBg8RExwoKS0/TGZudICHkZamtba4vdba4OLm7O3u+vv8F2Q9fgAAAPVJREFUKM+VUe1WwjAMjVipisOpA8Uxhnqlef8ntE3WEtjpD+92mqT5ursj6h1lQE5P5Ppy5yXBITDI4FENxyfWIMFP/bB2MdnvZAe515PRUgvWG089O3Lck49ZWCirTfRulKEOPz6RCXGX+XvTKtTTUJmukJVpd8KIAEZ8A0ZpL8UoahRhLknNslqxNyHR7tmGS9hi+nmw4f3hYpSZPJ7XjiXR8O+JG+vk39UNCOmbQqyfnKETJajD1seGU+4Ux2/RySpZ65pGlcqOXqOGc8kM/0hudNhXtXONz9ta8g3v1Z0feK0SWrysZoREoWtkhUTba4i2f1SFKXt3j3d6AAAAAElFTkSuQmCC"},"41":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAAEy1B8wAAAAAXNSR0IArs4c6QAAALdQTFRFAAAA////qqqqqqqqkpKSmZmZiYmJh4eHi4uLhYWFiYmJg4ODg4ODhoaGhYWFhISEgoKChISEgoKCg4ODg4ODgYGBg4ODgYGBgYGBgoKCgoKCgoKCgYGBgICAgICAgYGBgICAgYGBgYGBgYGBgICAgICAgYGBgICAgYGBgYGBgICAgICAgYGBgYGBgICAgYGBgYGBgYGBgYGBgYGBgYGBgICAgICAgYGBgICAgICAgICAgYGBgICApEBelQAAADx0Uk5TAAIDBgcKDREWGRolJygyNjc4O0JITVJVXWRwen2BhYqNlpqmrbO0tcLEx8nMzs/Q2uDi5ujp7e7z9/3+YdTPRgAAASVJREFUKM91UotWgzAMTdXh6luxTqcw33Q+mNXp0N7//y4boDAKyzn0Jk2T3ptCVJrkBSC6dkCNLctt91lZ7YJShjcKTKuYoairI0GG8Qr21cET+xnRfdniuSpJijxq6hPtFtHcvFD+4spiAMYH5rOEm2PqHmLv5agTDliUFwmtNVZS27ZGsJak00IWnVDlDY+UKbcajCMZ+0As8fsNnFXRPiYMo7oWI38s42FOO5wb3hn4QdZkbFDUt5ip8MjivnyDVJQEU5goSC6gvKuQB8kC0rsSRZBMoEUtXCPp8bHQSkqlYfuMdi4eVxb4W96dBpnxHHifHmy5wZ3MvtCSI9r9wHy8Qf05Vnu9TVTDO8TPdpDJqlm5l3jA5UC7unJyO3RXVv7M/0nlImq85c0qAAAAAElFTkSuQmCC"},"44":function(e,t,n){},"87":function(e,t,n){},"91":function(e,t,n){},"93":function(e,t,n){},"97":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAAAXNSR0IArs4c6QAABC9JREFUWAntmE1IVFEUx8/4ES36MAiKIhFCwoW7ihi1aDF9UBAWCBW0qUVB0qJw2aJdgQuphUGrFgURtVGSjAI/hsB2LiqSMEMrCLIyKDWm///OvdN9zn0fPmcmJQ8c79z37tz/b47nnXfvFVm25Qgs7QgkFoqfyWTWYY5D8BS8Gr5JOxqZ0D6GthfenUgkvqAtvQG0Gf4UPgOPahzL7zTHJZ53hCHWALFr8CRFZ3+LvBkVGX4t8vGzyNfvWee9tauzvnG9SP02kdoakYpy3lGWxt82RHxQ9yM1kYEBSql2+AXO/G1KpKdP5MWwyM9pXgm3lStEtteLHNgtsmZVbnwHPl0EOH56uEUCBmwVproHT83MijweEHn2XGR6JlzANWJFpcjeXSL7GkUqK9QI5ncLoCdd4+1rocAalv++Okb1FrBHx+0p4n+u2SxypiUX7ZeYKRkGHQis0+ARJkqNfxK5eVdkEjlaSKtCnp89jtKyQc3KSB8MSo+yEHHmbIqRLQYstRmATgSCGjCWRmr6mm+EEd0GfGuAOXv9duHSwI+E6dF6KpfTjYiys3oERZilSz1ghcpZP1hepwYfZm1K23Ts1gmM6LKwJ/lvYjUolVFLp0ZSM+RJO4ExqpUjWWfjlq48pQgXqEVNbYrBdEybB4xfxrVBE99gfCkUw6qx2ijzeXqoSW1Yk2bxIOQB4+5heAVft1HfYJ4ZQzrH9otcOp19abiGUpPaML5SyOIxFzBLi1obeEYWoEPYPTtFfgHq1Vv/Cbku0aZYTIetC3gLb3AhU0gzsMxT1vSgymNpKxabwwWMDPu74rIHx/1sw3beERkZC56JKz5tisV02MYG5gImihlYpkEUWM45X+AMv5TweYp5jyutq20iO+rZ8zcDa9IgLLJmJktbsZjrbF0R/sAb1nqVXY9N/RApxzdPHvGHtmGjRtaIWNqKxVxn6wKe4A3uFvxsCLXyfg++jP+CC9oDiwcsamSNnqWtWMx1ti7gMd7gtibI+obc0Hmw74Jmcd+ztBWLPcoF/IQDuAcLs7nQ505k6yxzlkvGkRiw1LS0e+cyuIC7MGi2tkaEe7Aws6HrtmbXHguBpSa1YVjYSrf6ZP3JA8Y6lOcG/dzdcsMYxQy0WejHjSy1qKl31v2axYPgLF56afeAAFdulG7Fxtp++XyuQh0F8EMPLTp5EeYAPTDN8sKaWyqjli5paRcsOZzAGhCvhuyqituXYhs1uO3XprRNx259gfELBzGwg+cG3Ipzd1ss49zU0GcUHVrbKefMYTMSuczTHrXNn8A2n0//v97mBwITHNA89UnDF/9BCoFpGnppHFVlkRU006MdvvgPAw00W0S7AQ3PDZLsl/q4lZqxDOBL40B77q8DOI8FuLvlhpF7MG5r6DQuD+nv4VzIdKFk8dW/bMsR+G8j8AfwivOFAa7mAgAAAABJRU5ErkJggg=="},"98":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAAAXNSR0IArs4c6QAAA+ZJREFUWAntmMtOFEEUhgtnkAgSGUKIIJjIzldAXc7C6IaNb2FcmPAQJi6Ib+HGDcSFxo3KK7hFRMYEwyXIZWQA/6+sNjXT1Ze5MDpxTnKmurpP1fn6TPXpOm1MX/oR6O0IDLSLf35+XtIcD6Rl6U3ptFM1ZtPputo30pWBgYEdtd0XgS5I30lPpHkFW8YstErcdITl7I6cPZPO41R9c3R4aA4ODszPkxNzWquZmhQpFoumIL08OGhGRkbMleFhowjba/pZlS6q/zE6kaf9MzrLWGAF2TyXPsEWqJ3tbbO/v2+hOZclwI6OjprS+Li9GWe/pPaprp1mjed6LmDBjsn2pbRMRAHd3d3NDYojXwAfGxuz4BxLWN+PdLzr24WOM4EdLH/fbaL6rVIx1Wo1NFfT54aGhsz1qako2p80wXwWdCqwWwavNVEZyMrmpjk9zfXP5YYvFApmanraAC8h0vcFnejkUsbMrNkykb0IWHwTAOZ2DyqpEZ+JkhhhRZds8IE1+3Vjo2PLIImECN+YmYmyyF1FOZg90iJM6rIPWKfWbBIs5/HBw+zE+o46fhsEVlRJ7PP8TWSDbgm+3NKYdwwx10FgWT3GkjtmSXRL8OVF2TI0+o4BaxB7g3sM5qVwEeIyQnBq70UEAyx1EgPW1YfSIq9boDstExMTZmZ21pRKMRbrCp/4lhSlsNRJCJjUYvcGdZYd6AB7TW+4s7Mzc3h0lDgj+xInliXq0IaAZ7nARqaT4sOSd6vHx4nTe74ti28YAmY/a3ddvmE7x42wxymwDb4ti+87EdilF9+27liJva6f1GkWlnk837mAM5801uGtuTlzVVvFNGkFtmG+GEsowhUGsflOEt7/RHhycjIRuh1Yz7dl8TlCwNRhtlLwDf3jH8rP37e2EqHrYLUdzVqz/twcU6U4sSxRhzYEvM4Fypo02dvbC0LHYFPSV9L8nm/L4tuFgN9iQA2WJY3Q7GujPFshsi3ANvhmf1wnIeBlWdQaCsa6QX7Hhx5WkclLoR1Yng18wyBd8X1xHAPWAL4bvGcgBWMeiaBJR+3A4guf+JbAEPuGEQPGUvKCH6pbN5huqgD9eW2t5WXA5PjCpxPLEHWiNgisga9ksEp6obrtluDLpbRVxxBzHQR2Vou03HHadjA2Y4sn8OFF1/oOTZUIrDukplrib6IUp7q9KGFufODL+cR3UFI3BNqbQvlPlfmpwNyioFnEvfEhBWDEQffGp6rfyBa6dz4GRtAu2nxg4bvBX/nc6rM0daxl0hsftBvvSuCUv1S3FIzUYFQJUaXA9hD9ImUjs6zUFXvd6nxf+hH4byLwCyLEakiOwW5MAAAAAElFTkSuQmCC"},"99":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAWCAYAAADwza0nAAAArElEQVR4AWNIK+g4mFbYcTWtuEeDgRSQWtDxH4SBmj+kFXa5kaQRgTv/pBV25pCoEYGBzp/W0LCfhTSNCKfvLmjoFyBJI8LmzhvppV2qpGhE4MLOt2lFnY6kaUTY/Cu9sCsNt0bCBvSvWrWKGa6RRM3bchsm8ZGmEeHvQ6RpRMTzYfo4Nb2wYwIocGgZHYgEQOskh0jktMxWiIxM26IDlAqAIXclq6xTk4EEAAABvbx2+YCkbQAAAABJRU5ErkJggg=="}}]);